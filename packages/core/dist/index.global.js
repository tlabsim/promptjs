var PromptJS=(function(exports){'use strict';var Ue=Object.defineProperty;var xe=(e,t)=>{for(var n in t)Ue(e,n,{get:t[n],enumerable:true});};function Le(e="pj"){return `${e}-${Math.random().toString(36).slice(2,8)}`}function Me(){let e=new Map;return {on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n);},off(t,n){var o;(o=e.get(t))==null||o.delete(n);},emit(t,...n){var o;(o=e.get(t))==null||o.forEach(r=>r(...n));}}}var Ge={theme:"auto",container:null,zIndexBase:2e3,animation:{enable:true,durationMs:180,easing:"ease"},i18n:{locale:"en",dir:"auto",ok:"OK",cancel:"Cancel",yes:"Yes",no:"No",close:"Close",dismiss:"Dismiss",titles:{info:"Information",success:"Success",warning:"Warning",error:"Error",question:"Question"}},a11y:{},breakpoints:{sm:480,md:640,lg:800},icons:{},overlay:{fade:true,surfaceAlpha:.6,backdropBlurPx:0},modal:{concurrency:"queue",surfaceAlpha:1,dialogBlurPx:0},toast:{defaultPosition:"top-center",behavior:"stack",maxVisible:3,spacingPx:10,margins:{top:16,bottom:16,left:16,right:16},zBoost:100,animations:{enter:{preset:"slide",direction:"auto"},exit:{preset:"slide",direction:"auto"},timeoutCue:{show:true,position:"bottom",direction:"shrink",thicknessPx:3}},defaultTimeoutMs:4e3,defaultDismissible:true}},v={...Ge},q=Me(),h={get:()=>v,update(e){var o,r,a,l,i,c,s,p,u;v={...v,...e,breakpoints:{...v.breakpoints,...e.breakpoints||{}},icons:{...v.icons,...e.icons||{}},animation:{...v.animation,...e.animation||{}},overlay:{...v.overlay,...e.overlay||{}},i18n:{...v.i18n,...e.i18n||{},titles:{...v.i18n.titles,...((o=e.i18n)==null?void 0:o.titles)||{}}},toast:{...v.toast,...e.toast||{},margins:{...v.toast.margins,...((r=e.toast)==null?void 0:r.margins)||{}},animations:{...v.toast.animations,...((a=e.toast)==null?void 0:a.animations)||{},enter:(i=(l=e.toast)==null?void 0:l.animations)!=null&&i.enter?{...v.toast.animations.enter,...e.toast.animations.enter}:v.toast.animations.enter,exit:(s=(c=e.toast)==null?void 0:c.animations)!=null&&s.exit?{...v.toast.animations.exit,...e.toast.animations.exit}:v.toast.animations.exit,timeoutCue:(u=(p=e.toast)==null?void 0:p.animations)!=null&&u.timeoutCue?{...v.toast.animations.timeoutCue,...e.toast.animations.timeoutCue}:v.toast.animations.timeoutCue}}},v.theme==="auto"?(document.documentElement.classList.add("pj-theme-auto"),document.documentElement.classList.remove("pj-theme-light","pj-theme-dark")):v.theme==="light"?(document.documentElement.classList.add("pj-theme-light"),document.documentElement.classList.remove("pj-theme-dark","pj-theme-auto")):v.theme==="dark"&&(document.documentElement.classList.add("pj-theme-dark"),document.documentElement.classList.remove("pj-theme-light","pj-theme-auto"));let t=document.querySelector(".pj-portal"),n=document.querySelector(".pj-toasts");t&&(t.classList.remove("pj-theme-light","pj-theme-dark","pj-theme-auto"),t.classList.add("pj-theme-"+(v.theme||"auto"))),n&&(n.classList.remove("pj-theme-light","pj-theme-dark","pj-theme-auto"),n.classList.add("pj-theme-"+(v.theme||"auto"))),q.emit("change");},onChange(e){return q.on("change",e),()=>q.off("change",e)}};var W={};xe(W,{bare:()=>Oe,mount:()=>ct,open:()=>R});var I={allowedTags:new Set(["b","strong","i","em","u","s","span","small","mark","code","kbd","samp","sup","sub","br","p","div","blockquote","pre","hr","ul","ol","li","h1","h2","h3","h4","h5","h6","a"]),allowedGlobalAttrs:new Set(["title","dir","lang","role"]),allowedPerTagAttrs:{a:new Set(["href","target","rel","name"])},allowDataAttrs:true,allowAriaAttrs:true,allowClassAttr:true,allowIdAttr:false,unwrapDisallowed:true},Ye=new Set(["script","style","iframe","object","embed","link","meta","base","form","input","button","textarea","select","option","svg","math"]),Xe=/^on/i,Ze=/^aria-/i,et=/^data-/i;function tt(e){let t=e.trim();if(!t||t.startsWith("#")||t.startsWith("?")||t.startsWith("/")||t.startsWith("./")||t.startsWith("../"))return  true;try{let o=new URL(t,document.baseURI).protocol.toLowerCase();return o==="http:"||o==="https:"||o==="mailto:"||o==="tel:"}catch{return  false}}function nt(e,t){let n=[],o=[];for(let r=0;r<e.attributes.length;r++){let a=e.attributes[r],l=a.name,i=a.value;if(Xe.test(l)||l==="style"){n.push(l);continue}if(l==="class"){t.allowClassAttr||n.push(l);continue}if(l==="id"){t.allowIdAttr||n.push(l);continue}if(t.allowDataAttrs&&et.test(l)||t.allowAriaAttrs&&Ze.test(l)||t.allowedGlobalAttrs.has(l))continue;let c=e.tagName.toLowerCase(),s=t.allowedPerTagAttrs[c];if(s&&s.has(l)){if(c==="a"&&l==="href"){if(!tt(i)){n.push(l);continue}if(e.getAttribute("target")==="_blank"){let u=e.getAttribute("rel")||"",f=new Set(["noopener","noreferrer"]);u.split(/\s+/).forEach(g=>g&&f.delete(g.toLowerCase())),f.size&&o.push({name:"rel",value:(u?u+" ":"")+Array.from(f).join(" ")});}}continue}n.push(l);}n.forEach(r=>e.removeAttribute(r)),o.forEach(({name:r,value:a})=>e.setAttribute(r,a));}function ot(e){let t=e.parentNode;if(!t){e.remove();return}for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e);}function Ce(e,t){var a,l,i;if(e.nodeType===Node.COMMENT_NODE){(a=e.parentNode)==null||a.removeChild(e);return}if(e.nodeType!==Node.ELEMENT_NODE)return;let n=e,o=n.tagName.toLowerCase();if(Ye.has(o)){(l=n.parentNode)==null||l.removeChild(n);return}if(!t.allowedTags.has(o)){t.unwrapDisallowed?ot(n):(i=n.parentNode)==null||i.removeChild(n);return}nt(n,t);let r=Array.from(n.childNodes);for(let c of r)Ce(c,t);}function H(e,t){if(!e)return "";let n={...I,...{},allowedTags:I.allowedTags,allowedGlobalAttrs:I.allowedGlobalAttrs,allowedPerTagAttrs:I.allowedPerTagAttrs},o=document.createElement("template");o.innerHTML=e;let r=Array.from(o.content.childNodes);for(let l of r)Ce(l,n);let a=document.createElement("div");return a.appendChild(o.content.cloneNode(true)),a.innerHTML}var V=class{constructor(){this.activeModal=0;this.modalQueue=[];this.toastSlots=new Map;this.toastQueues=new Map;}ensureRoots(){var o;let t=(o=h.get().container)!=null?o:document.body,n=document.querySelector(".pj-portal");if(n&&this.portal&&n!==this.portal&&(n.remove(),this.portal=void 0),this.portal?this.portal.style.zIndex=String(h.get().zIndexBase||2e3):(this.portal=document.createElement("div"),this.portal.className="pj-portal pj-theme-"+(h.get().theme||"auto"),this.portal.style.position="relative",this.portal.style.zIndex=String(h.get().zIndexBase||2e3),t.appendChild(this.portal)),!this.toastsRoot){this.toastsRoot=document.createElement("div"),this.toastsRoot.className="pj-toasts pj-theme-"+(h.get().theme||"auto");let r=(h.get().zIndexBase||2e3)+(h.get().toast.zBoost||100);Object.assign(this.toastsRoot.style,{position:"fixed",inset:"0",zIndex:String(r),pointerEvents:"none"}),t.appendChild(this.toastsRoot);}}open(t){this.ensureRoots();let n=h.get().modal.concurrency;if(this.activeModal>0&&n==="reject")throw new Error("PromptJS: modal already open");if(this.activeModal>0&&n==="queue"){this.modalQueue.push(t);return}this.activeModal++,t();}onClose(){if(this.activeModal=Math.max(0,this.activeModal-1),this.modalQueue.length){let t=this.modalQueue.shift();this.open(t);}}scrollLock(t){let n=document.body;if(t){if(!n.style.getPropertyValue("--pj-scrollbar")){let o=window.innerWidth-document.documentElement.clientWidth;n.style.setProperty("--pj-scrollbar",`${o}px`);}n.classList.add("pj-lock");}else n.classList.remove("pj-lock"),n.style.removeProperty("--pj-scrollbar");}getToastSlot(t){this.ensureRoots();let n=this.toastSlots.get(t);if(n)return n;let o=document.createElement("div");o.className=`pj-toast-slot pj-${t}`,o.style.position="fixed",o.style.display="flex",o.style.flexDirection="column",o.style.pointerEvents="none";let{margins:r,spacingPx:a}=h.get().toast;o.style.gap=`${a}px`;let l=`${r.top}px`,i=`${r.bottom}px`,c=`${r.left}px`,s=`${r.right}px`;switch(t){case "top-left":o.style.top=l,o.style.left=c;break;case "top-center":o.style.top=l,o.style.left="50%",o.style.transform="translateX(-50%)";break;case "top-right":o.style.top=l,o.style.right=s;break;case "bottom-left":o.style.bottom=i,o.style.left=c;break;case "bottom-center":o.style.bottom=i,o.style.left="50%",o.style.transform="translateX(-50%)";break;case "bottom-right":o.style.bottom=i,o.style.right=s;break}return this.toastsRoot.appendChild(o),this.toastSlots.set(t,o),o}showToast(t,n,o,r){var i;let a=this.getToastSlot(n),l=a.children.length;if(t.style.pointerEvents="auto",o==="replace"){for(;a.firstElementChild;)a.removeChild(a.firstElementChild);a.appendChild(t);return}if(o==="stack"){l>=r&&((i=a.firstElementChild)==null||i.remove()),a.appendChild(t);return}if(l>=r){let c=this.toastQueues.get(n)||[];c.push({mount:()=>a.appendChild(t),maxVisible:r}),this.toastQueues.set(n,c);}else a.appendChild(t);}onToastRemoved(t){let n=this.getToastSlot(t),o=this.toastQueues.get(t);!o||o.length===0||n.children.length<o[0].maxVisible&&o.shift().mount();}},x=new V;function je(e){let t=["a[href]","area[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","summary","[tabindex]",'[contenteditable="true"]'].join(",");return Array.from(e.querySelectorAll(t)).filter(it)}function it(e){return st(e)?Pe(e)>=0:false}function st(e){return !(!at(e)||e.disabled)}function at(e){var o;let t=window.getComputedStyle(e);if(t.visibility==="hidden"||t.display==="none")return  false;let n=e.closest("details");return n&&!n.open&&!((o=n.querySelector("summary"))!=null&&o.contains(e))?false:!e.ownerDocument||!e.getClientRects().length?!!e.ownerDocument:true}function Pe(e){let t=e.getAttribute("tabindex");if(t!==null){let r=Number(t);return Number.isNaN(r)?0:r}let n=e.tagName.toLowerCase();return /^(a|area|input|select|textarea|button|summary)$/i.test(n)?(n==="a"||n==="area")&&!e.hasAttribute("href")?-1:0:-1}function ke(e,t){let o=je(e)[0]||t||e,r=false;o===e&&Pe(e)<0&&(e.setAttribute("tabindex","-1"),r=true);try{o.focus({preventScroll:!0});}catch{}finally{r&&e.removeAttribute("tabindex");}}function Ae(e,t){let n=document.activeElement||null;if(t!=null&&t.initialFocus)try{t.initialFocus.focus({preventScroll:!0});}catch{}else ke(e,e);let o=a=>{if(a.key!=="Tab")return;let l=je(e);if(l.length===0){a.preventDefault(),ke(e,e);return}let i=l[0],c=l[l.length-1],s=document.activeElement;a.shiftKey?(!s||s===i||!e.contains(s))&&(a.preventDefault(),c.focus()):(!s||s===c||!e.contains(s))&&(a.preventDefault(),i.focus());};return document.addEventListener("keydown",o,true),{release:()=>{document.removeEventListener("keydown",o,true);let a=(t==null?void 0:t.restoreFocus)===void 0?n:t.restoreFocus;if(a&&document.contains(a))try{a.focus({preventScroll:!0});}catch{}}}}function He(e){let n=(e.ownerDocument||document).body,o=[];return Array.from(n.children).forEach(r=>{if(r===e||r.contains(e))return;let a=r.getAttribute("aria-hidden");o.push({el:r,prev:a}),r.setAttribute("aria-hidden","true");}),()=>{for(let{el:r,prev:a}of o)a===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",a);}}function rt(e,t,n){"translate"in e.style?e.style.translate=`${t}px ${n}px`:(e.style.setProperty("--pj-dx",`${t}px`),e.style.setProperty("--pj-dy",`${n}px`));}function lt(e,t,n){let o=0,r=0,a=0,l=0,i=false,c=d=>{var b,T;let m=(T=(b=d.touches)==null?void 0:b[0])!=null?T:d;return {x:m.clientX,y:m.clientY}},s=()=>{let m=(e.style.translate||"").match(/(-?\d+(?:\.\d+)?)px\s+(-?\d+(?:\.\d+)?)px/);if(m)return {x:parseFloat(m[1]),y:parseFloat(m[2])};let b=parseFloat(getComputedStyle(e).getPropertyValue("--pj-dx"))||0,T=parseFloat(getComputedStyle(e).getPropertyValue("--pj-dy"))||0;return {x:b,y:T}},p=(d,m)=>{if(!n.withinViewport)return {x:d,y:m};let b=document.documentElement.clientWidth,T=document.documentElement.clientHeight,E=e.getBoundingClientRect(),L=-E.left+E.width*-0.9,P=b-E.right+E.width*.9,y=-E.top+E.height*-0.9,M=T-E.bottom+E.height*.9;return {x:Math.min(Math.max(d,L),P),y:Math.min(Math.max(m,y),M)}},u=d=>{if(!i)return;d.preventDefault();let m=c(d),b=a+(n.axis==="y"?0:m.x-o),T=l+(n.axis==="x"?0:m.y-r);(({x:b,y:T}=p(b,T))),rt(e,b,T);},f=()=>{i=false,document.removeEventListener("mousemove",u,true),document.removeEventListener("touchmove",u,true),t.style.cursor=n.cursor||"grab";},g=d=>{if(d instanceof MouseEvent&&d.button!==0)return;d.preventDefault();let m=c(d);o=m.x,r=m.y;let b=s();a=b.x,l=b.y,i=true,t.style.cursor=n.cursor||"grabbing",document.addEventListener("mousemove",u,true),document.addEventListener("mouseup",f,{once:true,capture:true}),document.addEventListener("touchmove",u,{passive:false,capture:true}),document.addEventListener("touchend",f,{once:true,capture:true}),e.classList.add("pj-modal-moved");};return t.addEventListener("mousedown",g),t.addEventListener("touchstart",g,{passive:false}),()=>{t.removeEventListener("mousedown",g),t.removeEventListener("touchstart",g);}}function J(e,t){var X,Z,ee,te,ne,oe,ie,se,ae;let n=Le("modal"),o=h.get(),r=(ee=(Z=e.animate)!=null?Z:(X=o.animation)==null?void 0:X.enable)!=null?ee:true,a=(ne=(te=o.animation)==null?void 0:te.durationMs)!=null?ne:180,l=(ie=(oe=o.animation)==null?void 0:oe.easing)!=null?ie:"ease",i=(ae=(se=o.overlay)==null?void 0:se.fade)!=null?ae:true;x.ensureRoots();let c,s,p=null,u,f=null,g=false,d=null,m=null,b=null,T,E,L={id:n,close:C=>A(C),update:()=>{},get el(){return T},get contentEl(){return E}},P=null,y=()=>{var re,le,ce,de,ue,me,fe,pe,ge,be,he,ye,ve,Ee,Te,we;c=document.createElement("div"),c.className="pj-overlay",c.setAttribute("role","presentation");let C=(le=(re=o.overlay)==null?void 0:re.surfaceAlpha)!=null?le:.6;c.style.setProperty("--pj-overlay-alpha",String(C));let k=(ue=(de=e.backdropBlurPx)!=null?de:(ce=o.overlay)==null?void 0:ce.backdropBlurPx)!=null?ue:0;k>0&&(c.classList.add("pj-blur"),c.style.setProperty("--pj-overlay-blur",`${k}px`)),s=document.createElement("div"),s.className=e.windowed?"pj-modal":"pj-modal-no-window",e.bare&&s.classList.add("pad-none"),s.setAttribute("role","dialog"),s.setAttribute("aria-modal","true"),e.ariaLabel&&s.setAttribute("aria-label",e.ariaLabel),e.kind&&s.classList.add(`pj-kind-${e.kind}`);let j=(fe=(me=e.surfaceAlpha)!=null?me:o.modal.surfaceAlpha)!=null?fe:1,B=(ge=(pe=e.dialogBlurPx)!=null?pe:o.modal.dialogBlurPx)!=null?ge:0;s.style.setProperty("--pj-modal-alpha",String(j)),j<1&&B>0&&(s.classList.add("pj-modal-translucent"),s.style.setProperty("--pj-modal-blur",`${B}px`));let N=(be=e.size)!=null?be:"md";e.windowed&&typeof N=="string"&&s.classList.add(`size-${N}`),t.renderHeader&&(p=document.createElement("div"),p.className="pj-modal-header",s.appendChild(p)),u=document.createElement("div"),u.className="pj-modal-content",e.bare&&u.classList.add("pad-none"),e.contentClass&&u.classList.add(e.contentClass),s.appendChild(u),t.renderFooter&&(f=document.createElement("div"),f.className="pj-modal-footer",s.appendChild(f)),e.surfaceClass&&s.classList.add(e.surfaceClass),c.appendChild(s),x.portal.appendChild(c);let $=f==null?void 0:f.querySelector("button");e.trapFocus!==false&&(d=Ae(s,{initialFocus:$}).release),m=He(c),T=s,E=u,t.renderHeader&&p&&t.renderHeader(L,p),t.renderBody(L,u,w=>{E=w;}),t.renderFooter&&f&&t.renderFooter(L,f),t.setUpdater&&t.setUpdater(L,{header:p,body:u,footer:f,setContentEl:w=>{E=w;}});let D=e.draggable,Ve=typeof window!="undefined"&&((he=window.matchMedia)==null?void 0:he.call(window,"(pointer: coarse)").matches),Je=/Mobi|Android/i.test(navigator.userAgent),We=typeof D=="object"&&(ye=D.disableOnMobile)!=null?ye:true;if(D&&!Ve&&!(Je&&We)){let w=typeof D=="object"?D:{},Qe=(ve=w.axis)!=null?ve:"both",Ke=(Ee=w.withinViewport)!=null?Ee:true,_=(Te=w.cursor)!=null?Te:null,S=null;w.handle instanceof HTMLElement?S=w.handle:typeof w.handle=="string"?w.handle==="header"?S=p!=null?p:null:w.handle==="body"?S=u:S=s.querySelector(w.handle):S=e.windowed?p!=null?p:s:E!=null?E:u,S&&(b=lt(s,S,{axis:Qe,withinViewport:Ke,cursor:_}),s.classList.add("pj-modal-draggable"),_&&(S.style.cursor=_));}M(),x.scrollLock(true),r&&(i&&(c.classList.add("pj-overlay-in"),c.style.setProperty("--pj-anim-duration",`${a}ms`),c.style.setProperty("--pj-anim-ease",l)),s.classList.add("pj-modal-in"),s.style.setProperty("--pj-anim-duration",`${a}ms`),s.style.setProperty("--pj-anim-ease",l)),(we=e.onOpen)==null||we.call(e,L);},M=()=>{var C,k;((C=e.closeOnBackdrop)==null||C)&&c.addEventListener("click",j=>{j.target===c&&A("backdrop");}),((k=e.closeOnEsc)==null||k)&&(P=j=>{j.key==="Escape"&&(j.stopPropagation(),A("esc"),document.removeEventListener("keydown",P,true));},document.addEventListener("keydown",P,true));},O=C=>{var k;c.remove(),x.onClose(),x.scrollLock(false);try{d==null||d();}catch{}try{m==null||m();}catch{}try{b==null||b();}catch{}d=m=b=null;try{document.removeEventListener("keydown",P,!0);}catch{}(k=e.onClose)==null||k.call(e,C);},A=C=>{if(g)return;if(g=true,!r){O(C);return}s.classList.remove("pj-modal-in"),s.classList.add("pj-modal-out"),s.style.setProperty("--pj-anim-duration",`${a}ms`),s.style.setProperty("--pj-anim-ease",l),i&&(c.classList.remove("pj-overlay-in"),c.classList.add("pj-overlay-out"),c.style.setProperty("--pj-anim-duration",`${a}ms`),c.style.setProperty("--pj-anim-ease",l));let k=false,j=!i,B=()=>{k&&j&&O(C);},N=()=>{k=true,s.removeEventListener("animationend",N),B();};if(s.addEventListener("animationend",N),i){let $=()=>{j=true,c.removeEventListener("animationend",$),B();};c.addEventListener("animationend",$);}window.setTimeout(B,(a!=null?a:0)+50);};return x.open(()=>y()),L}function R(e){var r,a,l;let n=h.get().i18n,o={windowed:true,bare:false,size:e.size,surfaceClass:e.surfaceClass,contentClass:e.contentClass,surfaceAlpha:e.surfaceAlpha,dialogBlurPx:e.dialogBlurPx,backdropBlurPx:e.backdropBlurPx,kind:e.kind,animate:e.animate,closeOnEsc:(r=e.closeOnEsc)!=null?r:true,closeOnBackdrop:(a=e.closeOnBackdrop)!=null?a:true,trapFocus:(l=e.trapFocus)!=null?l:true,ariaLabel:e.ariaLabel,draggable:e.draggable,onOpen:e.onOpen,onClose:e.onClose,concurrency:e.concurrency};return J(o,{renderHeader(i,c){var f;let s=typeof e.title=="string"&&e.title.length>0,p=g=>n.titles[g]||"",u=s?e.title:e.kind?p(e.kind):void 0;if(u&&(c.innerHTML=`<h2 class="pj-modal-title">${H(u)}</h2>`),(f=e.showClose)==null||f){let g=document.createElement("button");g.className="pj-modal-close",g.setAttribute("aria-label",e.closeAriaLabel||n.close),g.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/></svg>',g.addEventListener("click",()=>i.close("close")),c.appendChild(g);}},renderBody(i,c,s){typeof e.content=="string"?(c.innerHTML=e.unsafeHTML?e.content:H(e.content),s(c)):(c.appendChild(e.content),s(e.content));},renderFooter(i,c){var p;let s=(p=e.buttons)!=null?p:[{id:"ok",text:n.ok,variant:"primary"}];for(let u of s){let f=document.createElement("button");f.className=`pj-modal-btn ${u.variant||"neutral"}`,f.textContent=u.text,f.addEventListener("click",async()=>{var g;try{f.disabled=!0,u.onClick&&await u.onClick(i);}finally{f.disabled=false,((g=u.closeOnClick)==null||g)&&i.close(u.id);}}),c.appendChild(f);}i.update=u=>{var f,g;if(u.title!==void 0){let d=i.el.querySelector(".pj-modal-title");d&&(d.textContent=(f=u.title)!=null?f:"");}if(u.content!==void 0){let d=i.el.querySelector(".pj-modal-content");if(!d)return;d.innerHTML="",typeof u.content=="string"?d.innerHTML=u.unsafeHTML?u.content:H(u.content):d.appendChild(u.content),i._contentEl=d,(g=Object.getOwnPropertyDescriptor(i,"contentEl"))!=null&&g.get;}u.buttons&&(c.innerHTML="",u.buttons.forEach(d=>{let m=document.createElement("button");m.className=`pj-modal-btn ${d.variant||"neutral"}`,m.textContent=d.text,m.addEventListener("click",async()=>{var b;try{m.disabled=!0,d.onClick&&await d.onClick(i);}finally{m.disabled=false,((b=d.closeOnClick)==null||b)&&i.close(d.id);}}),c.appendChild(m);}));};},setUpdater:(i,{header:c,body:s,footer:p,setContentEl:u})=>{i.update=f=>{var g;if(f.title!==void 0&&c){let d=c.querySelector(".pj-modal-title");d&&(d.textContent=(g=f.title)!=null?g:"");}f.content!==void 0&&(s.innerHTML="",typeof f.content=="string"?s.innerHTML=f.unsafeHTML?f.content:H(f.content):s.appendChild(f.content),u(s)),f.buttons&&p&&(p.innerHTML="",f.buttons.forEach(d=>{let m=document.createElement("button");m.className=`pj-modal-btn ${d.variant||"neutral"}`,m.textContent=d.text,m.addEventListener("click",async()=>{var b;try{m.disabled=!0,d.onClick&&await d.onClick(i);}finally{m.disabled=false,((b=d.closeOnClick)==null||b)&&i.close(d.id);}}),p.appendChild(m);}));};}})}function Oe(e={}){var o,r,a;let t=e.windowed!==false,n={windowed:t,bare:true,size:e.size,surfaceClass:e.surfaceClass,contentClass:e.contentClass,surfaceAlpha:e.surfaceAlpha,dialogBlurPx:e.dialogBlurPx,backdropBlurPx:e.backdropBlurPx,kind:e.kind,animate:e.animate,closeOnEsc:(o=e.closeOnEsc)!=null?o:true,closeOnBackdrop:(r=e.closeOnBackdrop)!=null?r:true,trapFocus:(a=e.trapFocus)!=null?a:true,ariaLabel:e.ariaLabel,draggable:(()=>{var l;if(!t&&e.draggable){let i=typeof e.draggable=="object"?e.draggable:{};return {handle:(l=i.handle)!=null?l:void 0,axis:i.axis,withinViewport:i.withinViewport,disableOnMobile:i.disableOnMobile,cursor:i.cursor}}return e.draggable})(),onOpen:e.onOpen,onClose:e.onClose,concurrency:e.concurrency};return J(n,{renderBody(l,i,c){typeof e.content=="string"?(i.innerHTML=e.unsafeHTML?e.content:H(e.content),c(i)):e.content&&(i.appendChild(e.content),c(e.content));}})}var ct=Oe;function dt(e){return typeof e=="number"?`${e}px`:e}function Q(){return typeof window!="undefined"&&!!window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}function De(e,t){e.classList.forEach(n=>{t.test(n)&&e.classList.remove(n);});}function Re(e,t,n){let o=false,r=l=>{l.target===e&&!o&&(o=true,e.removeEventListener("animationend",r),clearTimeout(a),n());},a=window.setTimeout(()=>{o||(o=true,e.removeEventListener("animationend",r),n());},Math.max(0,t)+50);return e.addEventListener("animationend",r),()=>{o||(o=true,clearTimeout(a),e.removeEventListener("animationend",r),n());}}function $e(e,t,n){var s,p,u,f,g,d;let o=h.get(),r=(p=(s=o.animation)==null?void 0:s.durationMs)!=null?p:180,a=(f=(u=o.animation)==null?void 0:u.easing)!=null?f:"ease";if(!n){let m=t==="enter"?{preset:"slide",direction:Se(e),distance:Be(e,t)}:{preset:"fade"};return {preset:m.preset,direction:m.direction,distance:m.distance,durationMs:r,easing:a}}let l=n.preset,i=l==="slide"?n.direction&&n.direction!=="auto"?n.direction:Se(e):void 0,c;return l==="slide"&&(n.distance==="edge"||n.distance===void 0?c=Be(e,t):c=dt(n.distance)),{preset:l,direction:i,distance:c,durationMs:(g=n.durationMs)!=null?g:r,easing:(d=n.easing)!=null?d:a}}function Se(e,t){switch(e){case "top-center":return "up";case "bottom-center":return "down";case "top-left":case "bottom-left":return "left";case "top-right":case "bottom-right":return "right"}}function Be(e,t){let n="120%",o="16px";return (e==="top-center"||e==="bottom-center")&&t==="enter"?o:n}function Ie(e,t,n){if(e.style.setProperty("--pj-anim-duration",`${n.durationMs}ms`),e.style.setProperty("--pj-anim-ease",n.easing),n.preset==="fade"){e.classList.add(t==="enter"?"pj-enter-fade":"pj-exit-fade");return}if(n.preset==="scale"){e.classList.add(t==="enter"?"pj-enter-scale":"pj-exit-scale");return}if(n.preset==="slide"&&n.direction){t==="enter"&&n.distance&&e.style.setProperty("--pj-enter-distance",n.distance);let o=`pj-${t}-slide-${n.direction}`;e.classList.add(o);}}function ut(e,t,n){var c;if(!n||n<=0)return;let o=t.timeoutCue||{};if(!(o.show!==false))return;let a=o.position||"bottom",l=(c=o.thicknessPx)!=null?c:3;if(a==="cover"){let s=document.createElement("div");s.className="pj-timeout-cover",s.style.setProperty("--pj-timeout-ms",`${n}ms`),o.direction==="shrink"&&(s.style.animationDirection="reverse"),e.appendChild(s);return}let i=document.createElement("div");i.className=`pj-timeout-bar pj-${a}`,i.style.setProperty("--pj-timeout-ms",`${n}ms`),a==="top"||a==="bottom"?i.style.height=`${l}px`:i.style.width=`${l}px`,o.direction==="shrink"&&(i.style.animationDirection="reverse"),e.appendChild(i);}function Ne(e,t,n,o){var l;if(Q()||n<=0||!((l=h.get().animation)!=null&&l.enable)){e.remove(),x.onToastRemoved(t);return}let r=e.offsetHeight;e.style.overflow="hidden",e.style.height=`${r}px`,e.style.marginTop=getComputedStyle(e).marginTop,e.style.marginBottom=getComputedStyle(e).marginBottom,e.style.paddingTop=getComputedStyle(e).paddingTop,e.style.paddingBottom=getComputedStyle(e).paddingBottom,e.offsetWidth,e.style.transition=[`height ${n}ms ${o}`,`margin ${n}ms ${o}`,`padding ${n}ms ${o}`,`opacity ${n}ms ${o}`].join(", "),e.style.height="0px",e.style.marginTop="0px",e.style.marginBottom="0px",e.style.paddingTop="0px",e.style.paddingBottom="0px",e.style.opacity="0";let a=()=>{e.removeEventListener("transitionend",a),e.remove(),x.onToastRemoved(t);};e.addEventListener("transitionend",a),window.setTimeout(a,n+50);}function z(e,t,n,o){var i;if(e._pjExiting)return;e._pjExiting=true,De(e,/^pj-enter-/);let r=h.get(),a=!!((i=r.animation)!=null&&i.enable),l=$e(n,"exit",o!=null?o:r.toast.animations.exit);if(!a||Q()||l.durationMs<=0){Ne(t,n,0,l.easing);return}Ie(e,"exit",l),e.offsetWidth,Re(e,l.durationMs,()=>{Ne(t,n,l.durationMs,l.easing);});}function ze(e){var b,T,E,L,P;x.ensureRoots();let t=h.get(),n=e.position||t.toast.defaultPosition,o=e.behavior||t.toast.behavior,r=e.maxVisible||t.toast.maxVisible,a=(b=e.timeoutMs)!=null?b:t.toast.defaultTimeoutMs,l=document.createElement("div");l.className="pj-toast-item";let i=document.createElement("div");i.className=`pj-toast pj-${e.kind||"neutral"} ${((T=e.dismissible)!=null?T:t.toast.defaultDismissible)?"dismissible":""}`,i.setAttribute("role","status"),i.setAttribute("aria-live","polite");let c=i,s;if(e.title){let y=document.createElement("div");y.className="pj-toast-title",y.innerHTML=H(e.title),s=`pj-title-${Math.random().toString(36).slice(2,9)}`,y.id=s,i.appendChild(y),i.classList.add("has-title"),c=document.createElement("div"),c.style.cssText="display: flex; align-items: center; gap: 6px;",i.appendChild(c);}let p=document.createElement("div");p.className="pj-toast-body",p.innerHTML=H(e.message);let u=`pj-body-${Math.random().toString(36).slice(2,9)}`;if(p.id=u,c.appendChild(p),s&&(i.setAttribute("aria-labelledby",s),i.setAttribute("aria-describedby",u)),(E=e.actions)!=null&&E.length){let y=document.createElement("div");y.className="pj-toast-actions";for(let M of e.actions){let O=document.createElement("button");O.className="pj-toast-btn ghost",O.textContent=M.text,O.addEventListener("click",()=>{var A;return z(i,l,n,(A=e.animations)==null?void 0:A.exit)}),O.addEventListener("click",()=>{var A;try{(A=M.onClick)==null||A.call(M);}catch{}}),y.appendChild(O);}c.appendChild(y);}if((L=e.dismissible)!=null?L:t.toast.defaultDismissible){let y=document.createElement("button");y.className="pj-toast-close",y.setAttribute("aria-label",t.i18n.dismiss),y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/></svg>',y.addEventListener("click",()=>{var M;return z(i,l,n,(M=e.animations)==null?void 0:M.exit)}),i.appendChild(y);}let g;a&&a>0&&(ut(i,e.animations||t.toast.animations,a),g=window.setTimeout(()=>{var y;return z(i,l,n,(y=e.animations)==null?void 0:y.exit)},a));let d=$e(n,"enter",e.animations&&e.animations.enter||t.toast.animations.enter),m=!!((P=t.animation)!=null&&P.enable);return !Q()&&m&&d.durationMs>0&&(Ie(i,"enter",d),Re(i,d.durationMs,()=>{De(i,/^pj-enter-/);})),l.appendChild(i),x.showToast(l,n,o,r),{dismiss:()=>{var y;g&&window.clearTimeout(g),z(i,l,n,(y=e.animations)==null?void 0:y.exit);}}}async function K(e){return new Promise(t=>{R({title:e.title,content:e.message,buttons:e.buttons.map(o=>({...o,closeOnClick:true,onClick:()=>t({id:o.id})})),closeOnEsc:e.escReturns!==null,closeOnBackdrop:e.backdropReturns!==null,onClose:o=>{o==="esc"&&e.escReturns?t({id:e.escReturns}):o==="backdrop"&&e.backdropReturns&&t({id:e.backdropReturns});}});})}async function Fe(e,t){var o,r;let{id:n}=await K({message:e,title:t==null?void 0:t.title,buttons:[{id:"yes",text:(o=t==null?void 0:t.yesText)!=null?o:"Yes",variant:"primary"},{id:"no",text:(r=t==null?void 0:t.noText)!=null?r:"No",variant:"neutral"},...t&&t.includeCancel?[{id:"cancel",text:"Cancel"}]:[]],escReturns:"cancel",backdropReturns:"cancel"});return n==="yes"}async function _e(e,t){await new Promise(n=>{R({title:t==null?void 0:t.title,content:e,buttons:[{id:"ok",text:h.get().i18n.ok,variant:"primary",onClick:()=>n()}],closeOnEsc:true,closeOnBackdrop:true});});}async function qe(e,t,n){return new Promise(o=>{var u,f,g;let r=t!=null?t:"",a=null,l=d=>{if(n!=null&&n.required&&!d.trim())return "This field is required";if(n!=null&&n.pattern&&!new RegExp(n.pattern).test(d))return "Invalid format";if(n!=null&&n.validator){let m=n.validator(d);if(m===false)return "Invalid input";if(typeof m=="string")return m}return null},i=document.createElement("div");i.className="pj-prompt-wrapper";let c=document.createElement("p");c.className="pj-prompt-message",c.textContent=e,i.appendChild(c);let s=document.createElement("input");s.type=(u=n==null?void 0:n.inputType)!=null?u:"text",s.className="pj-prompt-input",s.value=r,s.setAttribute("autocomplete","off"),s.setAttribute("spellcheck","false"),n!=null&&n.placeholder&&(s.placeholder=n.placeholder),n!=null&&n.maxLength&&(s.maxLength=n.maxLength),i.appendChild(s),a=document.createElement("div"),a.className="pj-prompt-error",a.setAttribute("role","alert"),a.setAttribute("aria-live","polite"),i.appendChild(a),s.addEventListener("input",d=>{r=d.target.value,a&&(a.textContent=""),s.classList.remove("error");}),s.addEventListener("focus",()=>{}),s.addEventListener("blur",()=>{}),s.addEventListener("keydown",d=>{if(d.key==="Enter"){d.preventDefault();let m=l(r);if(m){a&&(a.textContent=m,s.classList.add("error"));return}o(r),p.close("ok");}});let p=R({title:n==null?void 0:n.title,content:i,kind:n==null?void 0:n.kind,buttons:[{id:"cancel",text:(f=n==null?void 0:n.cancelText)!=null?f:h.get().i18n.cancel,variant:"neutral",closeOnClick:true,onClick:()=>o(null)},{id:"ok",text:(g=n==null?void 0:n.okText)!=null?g:h.get().i18n.ok,variant:"primary",closeOnClick:false,onClick:()=>{let d=l(r);if(d){a&&(a.textContent=d,s.classList.add("error"));return}o(r),p.close("ok");}}],closeOnEsc:true,closeOnBackdrop:false,onClose:d=>{(d==="esc"||d==="backdrop")&&o(null);},onOpen:()=>{setTimeout(()=>{s.focus(),t&&s.select();},100);}});})}var Y={};xe(Y,{getAvailable:()=>mt,load:()=>pt,register:()=>F,set:()=>G,use:()=>ft});var U=new Map;function F(e){U.set(e.locale,e);}function mt(){return Array.from(U.keys())}function G(e){let t=U.get(e);if(!t)throw new Error(`PromptJS: no i18n pack registered for "${e}"`);h.update({i18n:t});}function ft(e,t){t&&F(t),G(e);}function pt(e,t){return t().then(n=>(F(n),G(e),n))}F({locale:"en",dir:"auto",ok:"OK",cancel:"Cancel",yes:"Yes",no:"No",close:"Close",dismiss:"Dismiss",titles:{info:"Information",success:"Success",warning:"Warning",error:"Error",question:"Question"}});var gt="0.1.0";if(typeof window!="undefined"){let e={config:h,Modal:W,toast:ze,question:K,confirm:Fe,alert:_e,prompt:qe,i18n:Y,version:gt};window.PromptJS=Object.freeze(e);}
exports.Modal=W;exports.alert=_e;exports.config=h;exports.confirm=Fe;exports.i18n=Y;exports.prompt=qe;exports.question=K;exports.toast=ze;exports.version=gt;return exports;})({});//# sourceMappingURL=index.global.js.map
//# sourceMappingURL=index.global.js.map