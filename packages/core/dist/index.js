var Ue=Object.defineProperty;var we=(e,t)=>{for(var n in t)Ue(e,n,{get:t[n],enumerable:true});};function Le(e="pj"){return `${e}-${Math.random().toString(36).slice(2,8)}`}function Me(){let e=new Map;return {on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n);},off(t,n){var o;(o=e.get(t))==null||o.delete(n);},emit(t,...n){var o;(o=e.get(t))==null||o.forEach(s=>s(...n));}}}var Ge={theme:"auto",container:null,zIndexBase:2e3,animation:{enable:true,durationMs:180,easing:"ease"},i18n:{locale:"en",dir:"auto",ok:"OK",cancel:"Cancel",yes:"Yes",no:"No",close:"Close",dismiss:"Dismiss",titles:{info:"Information",success:"Success",warning:"Warning",error:"Error",question:"Question"}},a11y:{},breakpoints:{sm:480,md:640,lg:800},icons:{},overlay:{fade:true,surfaceAlpha:.6,backdropBlurPx:0},modal:{concurrency:"queue",surfaceAlpha:1,dialogBlurPx:0},toast:{defaultPosition:"top-center",behavior:"stack",maxVisible:3,spacingPx:10,margins:{top:16,bottom:16,left:16,right:16},zBoost:100,animations:{enter:{preset:"slide",direction:"auto"},exit:{preset:"slide",direction:"auto"},timeoutCue:{show:true,position:"bottom",direction:"shrink",thicknessPx:3}},defaultTimeoutMs:4e3,defaultDismissible:true}},E={...Ge},q=Me(),y={get:()=>E,update(e){var o,s,i,a,r,c,l,h,u;E={...E,...e,breakpoints:{...E.breakpoints,...e.breakpoints||{}},icons:{...E.icons,...e.icons||{}},animation:{...E.animation,...e.animation||{}},overlay:{...E.overlay,...e.overlay||{}},i18n:{...E.i18n,...e.i18n||{},titles:{...E.i18n.titles,...((o=e.i18n)==null?void 0:o.titles)||{}}},toast:{...E.toast,...e.toast||{},margins:{...E.toast.margins,...((s=e.toast)==null?void 0:s.margins)||{}},animations:{...E.toast.animations,...((i=e.toast)==null?void 0:i.animations)||{},enter:(r=(a=e.toast)==null?void 0:a.animations)!=null&&r.enter?{...E.toast.animations.enter,...e.toast.animations.enter}:E.toast.animations.enter,exit:(l=(c=e.toast)==null?void 0:c.animations)!=null&&l.exit?{...E.toast.animations.exit,...e.toast.animations.exit}:E.toast.animations.exit,timeoutCue:(u=(h=e.toast)==null?void 0:h.animations)!=null&&u.timeoutCue?{...E.toast.animations.timeoutCue,...e.toast.animations.timeoutCue}:E.toast.animations.timeoutCue}}},E.theme==="auto"?(document.documentElement.classList.add("pj-theme-auto"),document.documentElement.classList.remove("pj-theme-light","pj-theme-dark")):E.theme==="light"?(document.documentElement.classList.add("pj-theme-light"),document.documentElement.classList.remove("pj-theme-dark","pj-theme-auto")):E.theme==="dark"&&(document.documentElement.classList.add("pj-theme-dark"),document.documentElement.classList.remove("pj-theme-light","pj-theme-auto"));let t=document.querySelector(".pj-portal"),n=document.querySelector(".pj-toasts");t&&(t.classList.remove("pj-theme-light","pj-theme-dark","pj-theme-auto"),t.classList.add("pj-theme-"+(E.theme||"auto"))),n&&(n.classList.remove("pj-theme-light","pj-theme-dark","pj-theme-auto"),n.classList.add("pj-theme-"+(E.theme||"auto"))),q.emit("change");},onChange(e){return q.on("change",e),()=>q.off("change",e)}};var W={};we(W,{bare:()=>He,mount:()=>ct,open:()=>$});var R={allowedTags:new Set(["b","strong","i","em","u","s","span","small","mark","code","kbd","samp","sup","sub","br","p","div","blockquote","pre","hr","ul","ol","li","h1","h2","h3","h4","h5","h6","a"]),allowedGlobalAttrs:new Set(["title","dir","lang","role"]),allowedPerTagAttrs:{a:new Set(["href","target","rel","name"])},allowDataAttrs:true,allowAriaAttrs:true,allowClassAttr:true,allowIdAttr:false,unwrapDisallowed:true},Ye=new Set(["script","style","iframe","object","embed","link","meta","base","form","input","button","textarea","select","option","svg","math"]),Xe=/^on/i,Ze=/^aria-/i,et=/^data-/i;function tt(e){let t=e.trim();if(!t||t.startsWith("#")||t.startsWith("?")||t.startsWith("/")||t.startsWith("./")||t.startsWith("../"))return  true;try{let o=new URL(t,document.baseURI).protocol.toLowerCase();return o==="http:"||o==="https:"||o==="mailto:"||o==="tel:"}catch{return  false}}function nt(e,t){let n=[],o=[];for(let s=0;s<e.attributes.length;s++){let i=e.attributes[s],a=i.name,r=i.value;if(Xe.test(a)||a==="style"){n.push(a);continue}if(a==="class"){t.allowClassAttr||n.push(a);continue}if(a==="id"){t.allowIdAttr||n.push(a);continue}if(t.allowDataAttrs&&et.test(a)||t.allowAriaAttrs&&Ze.test(a)||t.allowedGlobalAttrs.has(a))continue;let c=e.tagName.toLowerCase(),l=t.allowedPerTagAttrs[c];if(l&&l.has(a)){if(c==="a"&&a==="href"){if(!tt(r)){n.push(a);continue}if(e.getAttribute("target")==="_blank"){let u=e.getAttribute("rel")||"",d=new Set(["noopener","noreferrer"]);u.split(/\s+/).forEach(g=>g&&d.delete(g.toLowerCase())),d.size&&o.push({name:"rel",value:(u?u+" ":"")+Array.from(d).join(" ")});}}continue}n.push(a);}n.forEach(s=>e.removeAttribute(s)),o.forEach(({name:s,value:i})=>e.setAttribute(s,i));}function ot(e){let t=e.parentNode;if(!t){e.remove();return}for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e);}function Ce(e,t){var i,a,r;if(e.nodeType===Node.COMMENT_NODE){(i=e.parentNode)==null||i.removeChild(e);return}if(e.nodeType!==Node.ELEMENT_NODE)return;let n=e,o=n.tagName.toLowerCase();if(Ye.has(o)){(a=n.parentNode)==null||a.removeChild(n);return}if(!t.allowedTags.has(o)){t.unwrapDisallowed?ot(n):(r=n.parentNode)==null||r.removeChild(n);return}nt(n,t);let s=Array.from(n.childNodes);for(let c of s)Ce(c,t);}function O(e,t){if(!e)return "";let n={...R,...{},allowedTags:R.allowedTags,allowedGlobalAttrs:R.allowedGlobalAttrs,allowedPerTagAttrs:R.allowedPerTagAttrs},o=document.createElement("template");o.innerHTML=e;let s=Array.from(o.content.childNodes);for(let a of s)Ce(a,n);let i=document.createElement("div");return i.appendChild(o.content.cloneNode(true)),i.innerHTML}var V=class{constructor(){this.activeModal=0;this.modalQueue=[];this.toastSlots=new Map;this.toastQueues=new Map;}ensureRoots(){var o;let t=(o=y.get().container)!=null?o:document.body,n=document.querySelector(".pj-portal");if(n&&this.portal&&n!==this.portal&&(n.remove(),this.portal=void 0),this.portal?this.portal.style.zIndex=String(y.get().zIndexBase||2e3):(this.portal=document.createElement("div"),this.portal.className="pj-portal pj-theme-"+(y.get().theme||"auto"),this.portal.style.position="relative",this.portal.style.zIndex=String(y.get().zIndexBase||2e3),t.appendChild(this.portal)),!this.toastsRoot){this.toastsRoot=document.createElement("div"),this.toastsRoot.className="pj-toasts pj-theme-"+(y.get().theme||"auto");let s=(y.get().zIndexBase||2e3)+(y.get().toast.zBoost||100);Object.assign(this.toastsRoot.style,{position:"fixed",inset:"0",zIndex:String(s),pointerEvents:"none"}),t.appendChild(this.toastsRoot);}}open(t){this.ensureRoots();let n=y.get().modal.concurrency;if(this.activeModal>0&&n==="reject")throw new Error("PromptJS: modal already open");if(this.activeModal>0&&n==="queue"){this.modalQueue.push(t);return}this.activeModal++,t();}onClose(){if(this.activeModal=Math.max(0,this.activeModal-1),this.modalQueue.length){let t=this.modalQueue.shift();this.open(t);}}scrollLock(t){let n=document.body;if(t){if(!n.style.getPropertyValue("--pj-scrollbar")){let o=window.innerWidth-document.documentElement.clientWidth;n.style.setProperty("--pj-scrollbar",`${o}px`);}n.classList.add("pj-lock");}else n.classList.remove("pj-lock"),n.style.removeProperty("--pj-scrollbar");}getToastSlot(t){this.ensureRoots();let n=this.toastSlots.get(t);if(n)return n;let o=document.createElement("div");o.className=`pj-toast-slot pj-${t}`,o.style.position="fixed",o.style.display="flex",o.style.flexDirection="column",o.style.pointerEvents="none";let{margins:s,spacingPx:i}=y.get().toast;o.style.gap=`${i}px`;let a=`${s.top}px`,r=`${s.bottom}px`,c=`${s.left}px`,l=`${s.right}px`;switch(t){case "top-left":o.style.top=a,o.style.left=c;break;case "top-center":o.style.top=a,o.style.left="50%",o.style.transform="translateX(-50%)";break;case "top-right":o.style.top=a,o.style.right=l;break;case "bottom-left":o.style.bottom=r,o.style.left=c;break;case "bottom-center":o.style.bottom=r,o.style.left="50%",o.style.transform="translateX(-50%)";break;case "bottom-right":o.style.bottom=r,o.style.right=l;break}return this.toastsRoot.appendChild(o),this.toastSlots.set(t,o),o}showToast(t,n,o,s){var r;let i=this.getToastSlot(n),a=i.children.length;if(t.style.pointerEvents="auto",o==="replace"){for(;i.firstElementChild;)i.removeChild(i.firstElementChild);i.appendChild(t);return}if(o==="stack"){a>=s&&((r=i.firstElementChild)==null||r.remove()),i.appendChild(t);return}if(a>=s){let c=this.toastQueues.get(n)||[];c.push({mount:()=>i.appendChild(t),maxVisible:s}),this.toastQueues.set(n,c);}else i.appendChild(t);}onToastRemoved(t){let n=this.getToastSlot(t),o=this.toastQueues.get(t);!o||o.length===0||n.children.length<o[0].maxVisible&&o.shift().mount();}},w=new V;function je(e){let t=["a[href]","area[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","summary","[tabindex]",'[contenteditable="true"]'].join(",");return Array.from(e.querySelectorAll(t)).filter(it)}function it(e){return rt(e)?Ae(e)>=0:false}function rt(e){return !(!at(e)||e.disabled)}function at(e){var o;let t=window.getComputedStyle(e);if(t.visibility==="hidden"||t.display==="none")return  false;let n=e.closest("details");return n&&!n.open&&!((o=n.querySelector("summary"))!=null&&o.contains(e))?false:!e.ownerDocument||!e.getClientRects().length?!!e.ownerDocument:true}function Ae(e){let t=e.getAttribute("tabindex");if(t!==null){let s=Number(t);return Number.isNaN(s)?0:s}let n=e.tagName.toLowerCase();return /^(a|area|input|select|textarea|button|summary)$/i.test(n)?(n==="a"||n==="area")&&!e.hasAttribute("href")?-1:0:-1}function ke(e,t){let o=je(e)[0]||t||e,s=false;o===e&&Ae(e)<0&&(e.setAttribute("tabindex","-1"),s=true);try{o.focus({preventScroll:!0});}catch{}finally{s&&e.removeAttribute("tabindex");}}function Pe(e,t){let n=document.activeElement||null;if(t!=null&&t.initialFocus)try{t.initialFocus.focus({preventScroll:!0});}catch{}else ke(e,e);let o=i=>{if(i.key!=="Tab")return;let a=je(e);if(a.length===0){i.preventDefault(),ke(e,e);return}let r=a[0],c=a[a.length-1],l=document.activeElement;i.shiftKey?(!l||l===r||!e.contains(l))&&(i.preventDefault(),c.focus()):(!l||l===c||!e.contains(l))&&(i.preventDefault(),r.focus());};return document.addEventListener("keydown",o,true),{release:()=>{document.removeEventListener("keydown",o,true);let i=(t==null?void 0:t.restoreFocus)===void 0?n:t.restoreFocus;if(i&&document.contains(i))try{i.focus({preventScroll:!0});}catch{}}}}function Oe(e){let n=(e.ownerDocument||document).body,o=[];return Array.from(n.children).forEach(s=>{if(s===e||s.contains(e))return;let i=s.getAttribute("aria-hidden");o.push({el:s,prev:i}),s.setAttribute("aria-hidden","true");}),()=>{for(let{el:s,prev:i}of o)i===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",i);}}function st(e,t,n){"translate"in e.style?e.style.translate=`${t}px ${n}px`:(e.style.setProperty("--pj-dx",`${t}px`),e.style.setProperty("--pj-dy",`${n}px`));}function lt(e,t,n){let o=0,s=0,i=0,a=0,r=false,c=p=>{var f,v;let m=(v=(f=p.touches)==null?void 0:f[0])!=null?v:p;return {x:m.clientX,y:m.clientY}},l=()=>{let m=(e.style.translate||"").match(/(-?\d+(?:\.\d+)?)px\s+(-?\d+(?:\.\d+)?)px/);if(m)return {x:parseFloat(m[1]),y:parseFloat(m[2])};let f=parseFloat(getComputedStyle(e).getPropertyValue("--pj-dx"))||0,v=parseFloat(getComputedStyle(e).getPropertyValue("--pj-dy"))||0;return {x:f,y:v}},h=(p,m)=>{if(!n.withinViewport)return {x:p,y:m};let f=document.documentElement.clientWidth,v=document.documentElement.clientHeight,b=e.getBoundingClientRect(),L=-b.left+b.width*-0.9,A=f-b.right+b.width*.9,x=-b.top+b.height*-0.9,M=v-b.bottom+b.height*.9;return {x:Math.min(Math.max(p,L),A),y:Math.min(Math.max(m,x),M)}},u=p=>{if(!r)return;p.preventDefault();let m=c(p),f=i+(n.axis==="y"?0:m.x-o),v=a+(n.axis==="x"?0:m.y-s);(({x:f,y:v}=h(f,v))),st(e,f,v);},d=()=>{r=false,document.removeEventListener("mousemove",u,true),document.removeEventListener("touchmove",u,true),t.style.cursor=n.cursor||"grab";},g=p=>{if(p instanceof MouseEvent&&p.button!==0)return;p.preventDefault();let m=c(p);o=m.x,s=m.y;let f=l();i=f.x,a=f.y,r=true,t.style.cursor=n.cursor||"grabbing",document.addEventListener("mousemove",u,true),document.addEventListener("mouseup",d,{once:true,capture:true}),document.addEventListener("touchmove",u,{passive:false,capture:true}),document.addEventListener("touchend",d,{once:true,capture:true}),e.classList.add("pj-modal-moved");};return t.addEventListener("mousedown",g),t.addEventListener("touchstart",g,{passive:false}),()=>{t.removeEventListener("mousedown",g),t.removeEventListener("touchstart",g);}}function J(e,t){var X,Z,ee,te,ne,oe,ie,re,ae;let n=Le("modal"),o=y.get(),s=(ee=(Z=e.animate)!=null?Z:(X=o.animation)==null?void 0:X.enable)!=null?ee:true,i=(ne=(te=o.animation)==null?void 0:te.durationMs)!=null?ne:180,a=(ie=(oe=o.animation)==null?void 0:oe.easing)!=null?ie:"ease",r=(ae=(re=o.overlay)==null?void 0:re.fade)!=null?ae:true;w.ensureRoots();let c,l,h=null,u,d=null,g=false,p=null,m=null,f=null,v,b,L={id:n,close:C=>P(C),update:()=>{},get el(){return v},get contentEl(){return b}},A=null,x=()=>{var se,le,ce,de,ue,me,fe,pe,ge,he,be,ye,ve,xe,Ee,Te;c=document.createElement("div"),c.className="pj-overlay",c.setAttribute("role","presentation");let C=(le=(se=o.overlay)==null?void 0:se.surfaceAlpha)!=null?le:.6;c.style.setProperty("--pj-overlay-alpha",String(C));let k=(ue=(de=e.backdropBlurPx)!=null?de:(ce=o.overlay)==null?void 0:ce.backdropBlurPx)!=null?ue:0;k>0&&(c.classList.add("pj-blur"),c.style.setProperty("--pj-overlay-blur",`${k}px`)),l=document.createElement("div"),l.className=e.windowed?"pj-modal":"pj-modal-no-window",e.bare&&l.classList.add("pad-none"),l.setAttribute("role","dialog"),l.setAttribute("aria-modal","true"),e.ariaLabel&&l.setAttribute("aria-label",e.ariaLabel),e.kind&&l.classList.add(`pj-kind-${e.kind}`);let j=(fe=(me=e.surfaceAlpha)!=null?me:o.modal.surfaceAlpha)!=null?fe:1,B=(ge=(pe=e.dialogBlurPx)!=null?pe:o.modal.dialogBlurPx)!=null?ge:0;l.style.setProperty("--pj-modal-alpha",String(j)),j<1&&B>0&&(l.classList.add("pj-modal-translucent"),l.style.setProperty("--pj-modal-blur",`${B}px`));let N=(he=e.size)!=null?he:"md";e.windowed&&typeof N=="string"&&l.classList.add(`size-${N}`),t.renderHeader&&(h=document.createElement("div"),h.className="pj-modal-header",l.appendChild(h)),u=document.createElement("div"),u.className="pj-modal-content",e.bare&&u.classList.add("pad-none"),e.contentClass&&u.classList.add(e.contentClass),l.appendChild(u),t.renderFooter&&(d=document.createElement("div"),d.className="pj-modal-footer",l.appendChild(d)),e.surfaceClass&&l.classList.add(e.surfaceClass),c.appendChild(l),w.portal.appendChild(c);let I=d==null?void 0:d.querySelector("button");e.trapFocus!==false&&(p=Pe(l,{initialFocus:I}).release),m=Oe(c),v=l,b=u,t.renderHeader&&h&&t.renderHeader(L,h),t.renderBody(L,u,T=>{b=T;}),t.renderFooter&&d&&t.renderFooter(L,d),t.setUpdater&&t.setUpdater(L,{header:h,body:u,footer:d,setContentEl:T=>{b=T;}});let D=e.draggable,Ve=typeof window!="undefined"&&((be=window.matchMedia)==null?void 0:be.call(window,"(pointer: coarse)").matches),Je=/Mobi|Android/i.test(navigator.userAgent),We=typeof D=="object"&&(ye=D.disableOnMobile)!=null?ye:true;if(D&&!Ve&&!(Je&&We)){let T=typeof D=="object"?D:{},Qe=(ve=T.axis)!=null?ve:"both",Ke=(xe=T.withinViewport)!=null?xe:true,_=(Ee=T.cursor)!=null?Ee:null,S=null;T.handle instanceof HTMLElement?S=T.handle:typeof T.handle=="string"?T.handle==="header"?S=h!=null?h:null:T.handle==="body"?S=u:S=l.querySelector(T.handle):S=e.windowed?h!=null?h:l:b!=null?b:u,S&&(f=lt(l,S,{axis:Qe,withinViewport:Ke,cursor:_}),l.classList.add("pj-modal-draggable"),_&&(S.style.cursor=_));}M(),w.scrollLock(true),s&&(r&&(c.classList.add("pj-overlay-in"),c.style.setProperty("--pj-anim-duration",`${i}ms`),c.style.setProperty("--pj-anim-ease",a)),l.classList.add("pj-modal-in"),l.style.setProperty("--pj-anim-duration",`${i}ms`),l.style.setProperty("--pj-anim-ease",a)),(Te=e.onOpen)==null||Te.call(e,L);},M=()=>{var C,k;((C=e.closeOnBackdrop)==null||C)&&c.addEventListener("click",j=>{j.target===c&&P("backdrop");}),((k=e.closeOnEsc)==null||k)&&(A=j=>{j.key==="Escape"&&(j.stopPropagation(),P("esc"),document.removeEventListener("keydown",A,true));},document.addEventListener("keydown",A,true));},H=C=>{var k;c.remove(),w.onClose(),w.scrollLock(false);try{p==null||p();}catch{}try{m==null||m();}catch{}try{f==null||f();}catch{}p=m=f=null;try{document.removeEventListener("keydown",A,!0);}catch{}(k=e.onClose)==null||k.call(e,C);},P=C=>{if(g)return;if(g=true,!s){H(C);return}l.classList.remove("pj-modal-in"),l.classList.add("pj-modal-out"),l.style.setProperty("--pj-anim-duration",`${i}ms`),l.style.setProperty("--pj-anim-ease",a),r&&(c.classList.remove("pj-overlay-in"),c.classList.add("pj-overlay-out"),c.style.setProperty("--pj-anim-duration",`${i}ms`),c.style.setProperty("--pj-anim-ease",a));let k=false,j=!r,B=()=>{k&&j&&H(C);},N=()=>{k=true,l.removeEventListener("animationend",N),B();};if(l.addEventListener("animationend",N),r){let I=()=>{j=true,c.removeEventListener("animationend",I),B();};c.addEventListener("animationend",I);}window.setTimeout(B,(i!=null?i:0)+50);};return w.open(()=>x()),L}function $(e){var s,i,a;let n=y.get().i18n,o={windowed:true,bare:false,size:e.size,surfaceClass:e.surfaceClass,contentClass:e.contentClass,surfaceAlpha:e.surfaceAlpha,dialogBlurPx:e.dialogBlurPx,backdropBlurPx:e.backdropBlurPx,kind:e.kind,animate:e.animate,closeOnEsc:(s=e.closeOnEsc)!=null?s:true,closeOnBackdrop:(i=e.closeOnBackdrop)!=null?i:true,trapFocus:(a=e.trapFocus)!=null?a:true,ariaLabel:e.ariaLabel,draggable:e.draggable,onOpen:e.onOpen,onClose:e.onClose,concurrency:e.concurrency};return J(o,{renderHeader(r,c){var d;let l=typeof e.title=="string"&&e.title.length>0,h=g=>n.titles[g]||"",u=l?e.title:e.kind?h(e.kind):void 0;if(u&&(c.innerHTML=`<h2 class="pj-modal-title">${O(u)}</h2>`),(d=e.showClose)==null||d){let g=document.createElement("button");g.className="pj-modal-close",g.setAttribute("aria-label",e.closeAriaLabel||n.close),g.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/></svg>',g.addEventListener("click",()=>r.close("close")),c.appendChild(g);}},renderBody(r,c,l){typeof e.content=="string"?(c.innerHTML=e.unsafeHTML?e.content:O(e.content),l(c)):(c.appendChild(e.content),l(e.content));},renderFooter(r,c){var u;let l=(u=e.buttons)!=null?u:[{id:"ok",text:n.ok,variant:"primary"}],h=null;for(let d of l){let g=document.createElement("button");g.className=`pj-modal-btn ${d.variant||"neutral"}`,g.textContent=d.text,g.setAttribute("data-button-id",d.id),g.addEventListener("click",async()=>{var p;try{g.disabled=!0,d.onClick&&await d.onClick(r);}finally{g.disabled=false,((p=d.closeOnClick)==null||p)&&r.close(d.id);}}),c.appendChild(g),e.defaultButtonId&&d.id===e.defaultButtonId&&(h=g);}if(h){let d=e.onOpen;o.onOpen=g=>{d&&d(g),setTimeout(()=>h==null?void 0:h.focus(),100);};}r.update=d=>{var g,p;if(d.title!==void 0){let m=r.el.querySelector(".pj-modal-title");m&&(m.textContent=(g=d.title)!=null?g:"");}if(d.content!==void 0){let m=r.el.querySelector(".pj-modal-content");if(!m)return;m.innerHTML="",typeof d.content=="string"?m.innerHTML=d.unsafeHTML?d.content:O(d.content):m.appendChild(d.content),r._contentEl=m,(p=Object.getOwnPropertyDescriptor(r,"contentEl"))!=null&&p.get;}d.buttons&&(c.innerHTML="",d.buttons.forEach(m=>{let f=document.createElement("button");f.className=`pj-modal-btn ${m.variant||"neutral"}`,f.textContent=m.text,f.addEventListener("click",async()=>{var v;try{f.disabled=!0,m.onClick&&await m.onClick(r);}finally{f.disabled=false,((v=m.closeOnClick)==null||v)&&r.close(m.id);}}),c.appendChild(f);}));};},setUpdater:(r,{header:c,body:l,footer:h,setContentEl:u})=>{r.update=d=>{var g;if(d.title!==void 0&&c){let p=c.querySelector(".pj-modal-title");p&&(p.textContent=(g=d.title)!=null?g:"");}d.content!==void 0&&(l.innerHTML="",typeof d.content=="string"?l.innerHTML=d.unsafeHTML?d.content:O(d.content):l.appendChild(d.content),u(l)),d.buttons&&h&&(h.innerHTML="",d.buttons.forEach(p=>{let m=document.createElement("button");m.className=`pj-modal-btn ${p.variant||"neutral"}`,m.textContent=p.text,m.addEventListener("click",async()=>{var f;try{m.disabled=!0,p.onClick&&await p.onClick(r);}finally{m.disabled=false,((f=p.closeOnClick)==null||f)&&r.close(p.id);}}),h.appendChild(m);}));};}})}function He(e={}){var o,s,i;let t=e.windowed!==false,n={windowed:t,bare:true,size:e.size,surfaceClass:e.surfaceClass,contentClass:e.contentClass,surfaceAlpha:e.surfaceAlpha,dialogBlurPx:e.dialogBlurPx,backdropBlurPx:e.backdropBlurPx,kind:e.kind,animate:e.animate,closeOnEsc:(o=e.closeOnEsc)!=null?o:true,closeOnBackdrop:(s=e.closeOnBackdrop)!=null?s:true,trapFocus:(i=e.trapFocus)!=null?i:true,ariaLabel:e.ariaLabel,draggable:(()=>{var a;if(!t&&e.draggable){let r=typeof e.draggable=="object"?e.draggable:{};return {handle:(a=r.handle)!=null?a:void 0,axis:r.axis,withinViewport:r.withinViewport,disableOnMobile:r.disableOnMobile,cursor:r.cursor}}return e.draggable})(),onOpen:e.onOpen,onClose:e.onClose,concurrency:e.concurrency};return J(n,{renderBody(a,r,c){typeof e.content=="string"?(r.innerHTML=e.unsafeHTML?e.content:O(e.content),c(r)):e.content&&(r.appendChild(e.content),c(e.content));}})}var ct=He;function dt(e){return typeof e=="number"?`${e}px`:e}function Q(){return typeof window!="undefined"&&!!window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}function De(e,t){e.classList.forEach(n=>{t.test(n)&&e.classList.remove(n);});}function $e(e,t,n){let o=false,s=a=>{a.target===e&&!o&&(o=true,e.removeEventListener("animationend",s),clearTimeout(i),n());},i=window.setTimeout(()=>{o||(o=true,e.removeEventListener("animationend",s),n());},Math.max(0,t)+50);return e.addEventListener("animationend",s),()=>{o||(o=true,clearTimeout(i),e.removeEventListener("animationend",s),n());}}function Ie(e,t,n){var l,h,u,d,g,p;let o=y.get(),s=(h=(l=o.animation)==null?void 0:l.durationMs)!=null?h:180,i=(d=(u=o.animation)==null?void 0:u.easing)!=null?d:"ease";if(!n){let m=t==="enter"?{preset:"slide",direction:Se(e),distance:Be(e,t)}:{preset:"fade"};return {preset:m.preset,direction:m.direction,distance:m.distance,durationMs:s,easing:i}}let a=n.preset,r=a==="slide"?n.direction&&n.direction!=="auto"?n.direction:Se(e):void 0,c;return a==="slide"&&(n.distance==="edge"||n.distance===void 0?c=Be(e,t):c=dt(n.distance)),{preset:a,direction:r,distance:c,durationMs:(g=n.durationMs)!=null?g:s,easing:(p=n.easing)!=null?p:i}}function Se(e,t){switch(e){case "top-center":return "up";case "bottom-center":return "down";case "top-left":case "bottom-left":return "left";case "top-right":case "bottom-right":return "right"}}function Be(e,t){let n="120%",o="16px";return (e==="top-center"||e==="bottom-center")&&t==="enter"?o:n}function Re(e,t,n){if(e.style.setProperty("--pj-anim-duration",`${n.durationMs}ms`),e.style.setProperty("--pj-anim-ease",n.easing),n.preset==="fade"){e.classList.add(t==="enter"?"pj-enter-fade":"pj-exit-fade");return}if(n.preset==="scale"){e.classList.add(t==="enter"?"pj-enter-scale":"pj-exit-scale");return}if(n.preset==="slide"&&n.direction){t==="enter"&&n.distance&&e.style.setProperty("--pj-enter-distance",n.distance);let o=`pj-${t}-slide-${n.direction}`;e.classList.add(o);}}function ut(e,t,n){var c;if(!n||n<=0)return;let o=t.timeoutCue||{};if(!(o.show!==false))return;let i=o.position||"bottom",a=(c=o.thicknessPx)!=null?c:3;if(i==="cover"){let l=document.createElement("div");l.className="pj-timeout-cover",l.style.setProperty("--pj-timeout-ms",`${n}ms`),o.direction==="shrink"&&(l.style.animationDirection="reverse"),e.appendChild(l);return}let r=document.createElement("div");r.className=`pj-timeout-bar pj-${i}`,r.style.setProperty("--pj-timeout-ms",`${n}ms`),i==="top"||i==="bottom"?r.style.height=`${a}px`:r.style.width=`${a}px`,o.direction==="shrink"&&(r.style.animationDirection="reverse"),e.appendChild(r);}function Ne(e,t,n,o){var a;if(Q()||n<=0||!((a=y.get().animation)!=null&&a.enable)){e.remove(),w.onToastRemoved(t);return}let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=`${s}px`,e.style.marginTop=getComputedStyle(e).marginTop,e.style.marginBottom=getComputedStyle(e).marginBottom,e.style.paddingTop=getComputedStyle(e).paddingTop,e.style.paddingBottom=getComputedStyle(e).paddingBottom,e.offsetWidth,e.style.transition=[`height ${n}ms ${o}`,`margin ${n}ms ${o}`,`padding ${n}ms ${o}`,`opacity ${n}ms ${o}`].join(", "),e.style.height="0px",e.style.marginTop="0px",e.style.marginBottom="0px",e.style.paddingTop="0px",e.style.paddingBottom="0px",e.style.opacity="0";let i=()=>{e.removeEventListener("transitionend",i),e.remove(),w.onToastRemoved(t);};e.addEventListener("transitionend",i),window.setTimeout(i,n+50);}function z(e,t,n,o){var r;if(e._pjExiting)return;e._pjExiting=true,De(e,/^pj-enter-/);let s=y.get(),i=!!((r=s.animation)!=null&&r.enable),a=Ie(n,"exit",o!=null?o:s.toast.animations.exit);if(!i||Q()||a.durationMs<=0){Ne(t,n,0,a.easing);return}Re(e,"exit",a),e.offsetWidth,$e(e,a.durationMs,()=>{Ne(t,n,a.durationMs,a.easing);});}function ze(e){var f,v,b,L,A;w.ensureRoots();let t=y.get(),n=e.position||t.toast.defaultPosition,o=e.behavior||t.toast.behavior,s=e.maxVisible||t.toast.maxVisible,i=(f=e.timeoutMs)!=null?f:t.toast.defaultTimeoutMs,a=document.createElement("div");a.className="pj-toast-item";let r=document.createElement("div");r.className=`pj-toast pj-${e.kind||"neutral"} ${((v=e.dismissible)!=null?v:t.toast.defaultDismissible)?"dismissible":""}`,r.setAttribute("role","status"),r.setAttribute("aria-live","polite");let c=r,l;if(e.title){let x=document.createElement("div");x.className="pj-toast-title",x.innerHTML=O(e.title),l=`pj-title-${Math.random().toString(36).slice(2,9)}`,x.id=l,r.appendChild(x),r.classList.add("has-title"),c=document.createElement("div"),c.style.cssText="display: flex; align-items: center; gap: 6px;",r.appendChild(c);}let h=document.createElement("div");h.className="pj-toast-body",h.innerHTML=O(e.message);let u=`pj-body-${Math.random().toString(36).slice(2,9)}`;if(h.id=u,c.appendChild(h),l&&(r.setAttribute("aria-labelledby",l),r.setAttribute("aria-describedby",u)),(b=e.actions)!=null&&b.length){let x=document.createElement("div");x.className="pj-toast-actions";for(let M of e.actions){let H=document.createElement("button");H.className="pj-toast-btn ghost",H.textContent=M.text,H.addEventListener("click",()=>{var P;return z(r,a,n,(P=e.animations)==null?void 0:P.exit)}),H.addEventListener("click",()=>{var P;try{(P=M.onClick)==null||P.call(M);}catch{}}),x.appendChild(H);}c.appendChild(x);}if((L=e.dismissible)!=null?L:t.toast.defaultDismissible){let x=document.createElement("button");x.className="pj-toast-close",x.setAttribute("aria-label",t.i18n.dismiss),x.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/></svg>',x.addEventListener("click",()=>{var M;return z(r,a,n,(M=e.animations)==null?void 0:M.exit)}),r.appendChild(x);}let g;i&&i>0&&(ut(r,e.animations||t.toast.animations,i),g=window.setTimeout(()=>{var x;return z(r,a,n,(x=e.animations)==null?void 0:x.exit)},i));let p=Ie(n,"enter",e.animations&&e.animations.enter||t.toast.animations.enter),m=!!((A=t.animation)!=null&&A.enable);return !Q()&&m&&p.durationMs>0&&(Re(r,"enter",p),$e(r,p.durationMs,()=>{De(r,/^pj-enter-/);})),a.appendChild(r),w.showToast(a,n,o,s),{dismiss:()=>{var x;g&&window.clearTimeout(g),z(r,a,n,(x=e.animations)==null?void 0:x.exit);}}}async function K(e){let{message:t,buttons:n,onDismissal:o,title:s,...i}=e;if(!n||n.length===0)throw new Error("[PromptJS] question() requires at least one button");return new Promise(a=>{$({...i,title:s,content:t,buttons:n.map(c=>({...c,closeOnClick:true,onClick:()=>a({id:c.id})})),onClose:c=>{["esc","backdrop","close"].includes(c)&&o&&a({id:o});}});})}async function Fe(e,t){var s,i,a;let n=[{id:"yes",text:(s=t==null?void 0:t.yesText)!=null?s:"Yes",variant:"primary"},{id:"no",text:(i=t==null?void 0:t.noText)!=null?i:"No",variant:"neutral"}];t!=null&&t.includeCancel&&n.push({id:"cancel",text:(a=t==null?void 0:t.cancelText)!=null?a:"Cancel",variant:"neutral"});let{id:o}=await K({...t,title:t==null?void 0:t.title,message:e,buttons:n,onDismissal:"cancel"});return o==="yes"}async function _e(e,t){await new Promise(n=>{var o;$({...t,title:t==null?void 0:t.title,content:e,buttons:[{id:"ok",text:(o=t==null?void 0:t.okText)!=null?o:y.get().i18n.ok,variant:"primary",onClick:()=>n()}],closeOnEsc:true,closeOnBackdrop:true,onClose:()=>n()});});}async function qe(e,t,n){return new Promise(o=>{var g,p,m;let s=t!=null?t:"",i=null,a=false,r=f=>{a||(a=true,o(f));},c=f=>{let v=f.trim();if(n!=null&&n.required&&!v)return "This field is required";if(n!=null&&n.minLength&&v.length<n.minLength)return `Minimum ${n.minLength} characters required`;if(n!=null&&n.pattern)try{if(!new RegExp(n.pattern).test(f))return "Invalid format"}catch(b){return console.error("[PromptJS] Invalid regex pattern:",n.pattern,b),"Invalid format pattern"}if(n!=null&&n.validator)try{let b=n.validator(f);if(b===!1)return "Invalid input";if(typeof b=="string")return b}catch(b){return console.error("[PromptJS] Validator threw exception:",b),"Validation error"}return null},l=document.createElement("div");l.className="pj-prompt-wrapper";let h=document.createElement("p");h.className="pj-prompt-message",h.textContent=e,l.appendChild(h);let u=document.createElement("input");u.type=(g=n==null?void 0:n.inputType)!=null?g:"text",u.className="pj-prompt-input",u.value=s,u.setAttribute("autocomplete","off"),u.setAttribute("spellcheck","false"),n!=null&&n.placeholder&&(u.placeholder=n.placeholder),n!=null&&n.maxLength&&(u.maxLength=n.maxLength),l.appendChild(u),i=document.createElement("div"),i.className="pj-prompt-error",i.setAttribute("role","alert"),i.setAttribute("aria-live","polite"),l.appendChild(i),u.addEventListener("input",f=>{s=f.target.value,i&&(i.textContent=""),u.classList.remove("error");}),u.addEventListener("focus",()=>{}),u.addEventListener("blur",()=>{}),u.addEventListener("keydown",f=>{if(f.key==="Enter"){f.preventDefault();let v=c(s);if(v){i&&(i.textContent=v,u.classList.add("error"));return}r(s),d.close("ok");}});let d=$({...n,title:n==null?void 0:n.title,content:l,buttons:[{id:"cancel",text:(p=n==null?void 0:n.cancelText)!=null?p:y.get().i18n.cancel,variant:"neutral",closeOnClick:true,onClick:()=>r(null)},{id:"ok",text:(m=n==null?void 0:n.okText)!=null?m:y.get().i18n.ok,variant:"primary",closeOnClick:false,onClick:()=>{let f=c(s);if(f){i&&(i.textContent=f,u.classList.add("error"));return}r(s),d.close("ok");}}],closeOnEsc:true,closeOnBackdrop:false,onClose:f=>{(f==="esc"||f==="backdrop"||f==="close")&&r(null);},onOpen:()=>{setTimeout(()=>{u.focus(),t&&u.select();},100);}});})}var Y={};we(Y,{getAvailable:()=>mt,load:()=>pt,register:()=>F,set:()=>G,use:()=>ft});var U=new Map;function F(e){U.set(e.locale,e);}function mt(){return Array.from(U.keys())}function G(e){let t=U.get(e);if(!t)throw new Error(`PromptJS: no i18n pack registered for "${e}"`);y.update({i18n:t});}function ft(e,t){t&&F(t),G(e);}function pt(e,t){return t().then(n=>(F(n),G(e),n))}F({locale:"en",dir:"auto",ok:"OK",cancel:"Cancel",yes:"Yes",no:"No",close:"Close",dismiss:"Dismiss",titles:{info:"Information",success:"Success",warning:"Warning",error:"Error",question:"Question"}});var gt="0.1.0";if(typeof window!="undefined"){let e={config:y,Modal:W,toast:ze,question:K,confirm:Fe,alert:_e,prompt:qe,i18n:Y,version:gt};window.PromptJS=Object.freeze(e);}
export{W as Modal,_e as alert,y as config,Fe as confirm,Y as i18n,qe as prompt,K as question,ze as toast,gt as version};//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map