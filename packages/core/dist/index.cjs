'use strict';var Ke=Object.defineProperty;var xe=(e,t)=>{for(var n in t)Ke(e,n,{get:t[n],enumerable:true});};function Le(e="pj"){return `${e}-${Math.random().toString(36).slice(2,8)}`}function Me(){let e=new Map;return {on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n);},off(t,n){var o;(o=e.get(t))==null||o.delete(n);},emit(t,...n){var o;(o=e.get(t))==null||o.forEach(r=>r(...n));}}}var Qe={theme:"auto",container:null,zIndexBase:2e3,animation:{enable:true,durationMs:180,easing:"ease"},i18n:{locale:"en",dir:"auto",ok:"OK",cancel:"Cancel",yes:"Yes",no:"No",close:"Close",dismiss:"Dismiss",titles:{info:"Information",success:"Success",warning:"Warning",error:"Error",question:"Question"}},a11y:{},breakpoints:{sm:480,md:640,lg:800},icons:{},overlay:{fade:true,surfaceAlpha:.6,backdropBlurPx:0},modal:{concurrency:"queue",surfaceAlpha:1,dialogBlurPx:0},toast:{defaultPosition:"top-center",behavior:"stack",maxVisible:3,spacingPx:10,margins:{top:16,bottom:16,left:16,right:16},zBoost:100,animations:{enter:{preset:"slide",direction:"auto"},exit:{preset:"slide",direction:"auto"},timeoutCue:{show:true,position:"bottom",direction:"shrink",thicknessPx:3}},defaultTimeoutMs:4e3,defaultDismissible:true}},v={...Qe},q=Me(),h={get:()=>v,update(e){var o,r,i,a,s,c,l,p,u;v={...v,...e,breakpoints:{...v.breakpoints,...e.breakpoints||{}},icons:{...v.icons,...e.icons||{}},animation:{...v.animation,...e.animation||{}},overlay:{...v.overlay,...e.overlay||{}},i18n:{...v.i18n,...e.i18n||{},titles:{...v.i18n.titles,...((o=e.i18n)==null?void 0:o.titles)||{}}},toast:{...v.toast,...e.toast||{},margins:{...v.toast.margins,...((r=e.toast)==null?void 0:r.margins)||{}},animations:{...v.toast.animations,...((i=e.toast)==null?void 0:i.animations)||{},enter:(s=(a=e.toast)==null?void 0:a.animations)!=null&&s.enter?{...v.toast.animations.enter,...e.toast.animations.enter}:v.toast.animations.enter,exit:(l=(c=e.toast)==null?void 0:c.animations)!=null&&l.exit?{...v.toast.animations.exit,...e.toast.animations.exit}:v.toast.animations.exit,timeoutCue:(u=(p=e.toast)==null?void 0:p.animations)!=null&&u.timeoutCue?{...v.toast.animations.timeoutCue,...e.toast.animations.timeoutCue}:v.toast.animations.timeoutCue}}},v.theme==="auto"?(document.documentElement.classList.add("pj-theme-auto"),document.documentElement.classList.remove("pj-theme-light","pj-theme-dark")):v.theme==="light"?(document.documentElement.classList.add("pj-theme-light"),document.documentElement.classList.remove("pj-theme-dark","pj-theme-auto")):v.theme==="dark"&&(document.documentElement.classList.add("pj-theme-dark"),document.documentElement.classList.remove("pj-theme-light","pj-theme-auto"));let t=document.querySelector(".pj-portal"),n=document.querySelector(".pj-toasts");t&&(t.classList.remove("pj-theme-light","pj-theme-dark","pj-theme-auto"),t.classList.add("pj-theme-"+(v.theme||"auto"))),n&&(n.classList.remove("pj-theme-light","pj-theme-dark","pj-theme-auto"),n.classList.add("pj-theme-"+(v.theme||"auto"))),q.emit("change");},onChange(e){return q.on("change",e),()=>q.off("change",e)}};var W={};xe(W,{bare:()=>rt,open:()=>I});var $={allowedTags:new Set(["b","strong","i","em","u","s","span","small","mark","code","kbd","samp","sup","sub","br","p","div","blockquote","pre","hr","ul","ol","li","h1","h2","h3","h4","h5","h6","a"]),allowedGlobalAttrs:new Set(["title","dir","lang","role"]),allowedPerTagAttrs:{a:new Set(["href","target","rel","name"])},allowDataAttrs:true,allowAriaAttrs:true,allowClassAttr:true,allowIdAttr:false,unwrapDisallowed:true},Ue=new Set(["script","style","iframe","object","embed","link","meta","base","form","input","button","textarea","select","option","svg","math"]),Ge=/^on/i,Ye=/^aria-/i,Xe=/^data-/i;function Ze(e){let t=e.trim();if(!t||t.startsWith("#")||t.startsWith("?")||t.startsWith("/")||t.startsWith("./")||t.startsWith("../"))return  true;try{let o=new URL(t,document.baseURI).protocol.toLowerCase();return o==="http:"||o==="https:"||o==="mailto:"||o==="tel:"}catch{return  false}}function et(e,t){let n=[],o=[];for(let r=0;r<e.attributes.length;r++){let i=e.attributes[r],a=i.name,s=i.value;if(Ge.test(a)||a==="style"){n.push(a);continue}if(a==="class"){t.allowClassAttr||n.push(a);continue}if(a==="id"){t.allowIdAttr||n.push(a);continue}if(t.allowDataAttrs&&Xe.test(a)||t.allowAriaAttrs&&Ye.test(a)||t.allowedGlobalAttrs.has(a))continue;let c=e.tagName.toLowerCase(),l=t.allowedPerTagAttrs[c];if(l&&l.has(a)){if(c==="a"&&a==="href"){if(!Ze(s)){n.push(a);continue}if(e.getAttribute("target")==="_blank"){let u=e.getAttribute("rel")||"",m=new Set(["noopener","noreferrer"]);u.split(/\s+/).forEach(b=>b&&m.delete(b.toLowerCase())),m.size&&o.push({name:"rel",value:(u?u+" ":"")+Array.from(m).join(" ")});}}continue}n.push(a);}n.forEach(r=>e.removeAttribute(r)),o.forEach(({name:r,value:i})=>e.setAttribute(r,i));}function tt(e){let t=e.parentNode;if(!t){e.remove();return}for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e);}function Ce(e,t){var i,a,s;if(e.nodeType===Node.COMMENT_NODE){(i=e.parentNode)==null||i.removeChild(e);return}if(e.nodeType!==Node.ELEMENT_NODE)return;let n=e,o=n.tagName.toLowerCase();if(Ue.has(o)){(a=n.parentNode)==null||a.removeChild(n);return}if(!t.allowedTags.has(o)){t.unwrapDisallowed?tt(n):(s=n.parentNode)==null||s.removeChild(n);return}et(n,t);let r=Array.from(n.childNodes);for(let c of r)Ce(c,t);}function H(e,t){if(!e)return "";let n={...$,...{},allowedTags:$.allowedTags,allowedGlobalAttrs:$.allowedGlobalAttrs,allowedPerTagAttrs:$.allowedPerTagAttrs},o=document.createElement("template");o.innerHTML=e;let r=Array.from(o.content.childNodes);for(let a of r)Ce(a,n);let i=document.createElement("div");return i.appendChild(o.content.cloneNode(true)),i.innerHTML}var V=class{constructor(){this.activeModal=0;this.modalQueue=[];this.toastSlots=new Map;this.toastQueues=new Map;}ensureRoots(){var o;let t=(o=h.get().container)!=null?o:document.body,n=document.querySelector(".pj-portal");if(n&&this.portal&&n!==this.portal&&(n.remove(),this.portal=void 0),this.portal?this.portal.style.zIndex=String(h.get().zIndexBase||2e3):(this.portal=document.createElement("div"),this.portal.className="pj-portal pj-theme-"+(h.get().theme||"auto"),this.portal.style.position="relative",this.portal.style.zIndex=String(h.get().zIndexBase||2e3),t.appendChild(this.portal)),!this.toastsRoot){this.toastsRoot=document.createElement("div"),this.toastsRoot.className="pj-toasts pj-theme-"+(h.get().theme||"auto");let r=(h.get().zIndexBase||2e3)+(h.get().toast.zBoost||100);Object.assign(this.toastsRoot.style,{position:"fixed",inset:"0",zIndex:String(r),pointerEvents:"none"}),t.appendChild(this.toastsRoot);}}open(t){this.ensureRoots();let n=h.get().modal.concurrency;if(this.activeModal>0&&n==="reject")throw new Error("PromptJS: modal already open");if(this.activeModal>0&&n==="queue"){this.modalQueue.push(t);return}this.activeModal++,t();}onClose(){if(this.activeModal=Math.max(0,this.activeModal-1),this.modalQueue.length){let t=this.modalQueue.shift();this.open(t);}}scrollLock(t){let n=document.body;if(t){if(!n.style.getPropertyValue("--pj-scrollbar")){let o=window.innerWidth-document.documentElement.clientWidth;n.style.setProperty("--pj-scrollbar",`${o}px`);}n.classList.add("pj-lock");}else n.classList.remove("pj-lock"),n.style.removeProperty("--pj-scrollbar");}getToastSlot(t){this.ensureRoots();let n=this.toastSlots.get(t);if(n)return n;let o=document.createElement("div");o.className=`pj-toast-slot pj-${t}`,o.style.position="fixed",o.style.display="flex",o.style.flexDirection="column",o.style.pointerEvents="none";let{margins:r,spacingPx:i}=h.get().toast;o.style.gap=`${i}px`;let a=`${r.top}px`,s=`${r.bottom}px`,c=`${r.left}px`,l=`${r.right}px`;switch(t){case "top-left":o.style.top=a,o.style.left=c;break;case "top-center":o.style.top=a,o.style.left="50%",o.style.transform="translateX(-50%)";break;case "top-right":o.style.top=a,o.style.right=l;break;case "bottom-left":o.style.bottom=s,o.style.left=c;break;case "bottom-center":o.style.bottom=s,o.style.left="50%",o.style.transform="translateX(-50%)";break;case "bottom-right":o.style.bottom=s,o.style.right=l;break}return this.toastsRoot.appendChild(o),this.toastSlots.set(t,o),o}showToast(t,n,o,r){var s;let i=this.getToastSlot(n),a=i.children.length;if(t.style.pointerEvents="auto",o==="replace"){for(;i.firstElementChild;)i.removeChild(i.firstElementChild);i.appendChild(t);return}if(o==="stack"){a>=r&&((s=i.firstElementChild)==null||s.remove()),i.appendChild(t);return}if(a>=r){let c=this.toastQueues.get(n)||[];c.push({mount:()=>i.appendChild(t),maxVisible:r}),this.toastQueues.set(n,c);}else i.appendChild(t);}onToastRemoved(t){let n=this.getToastSlot(t),o=this.toastQueues.get(t);!o||o.length===0||n.children.length<o[0].maxVisible&&o.shift().mount();}},x=new V;function je(e){let t=["a[href]","area[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","summary","[tabindex]",'[contenteditable="true"]'].join(",");return Array.from(e.querySelectorAll(t)).filter(nt)}function nt(e){return ot(e)?Pe(e)>=0:false}function ot(e){return !(!st(e)||e.disabled)}function st(e){var o;let t=window.getComputedStyle(e);if(t.visibility==="hidden"||t.display==="none")return  false;let n=e.closest("details");return n&&!n.open&&!((o=n.querySelector("summary"))!=null&&o.contains(e))?false:!e.ownerDocument||!e.getClientRects().length?!!e.ownerDocument:true}function Pe(e){let t=e.getAttribute("tabindex");if(t!==null){let r=Number(t);return Number.isNaN(r)?0:r}let n=e.tagName.toLowerCase();return /^(a|area|input|select|textarea|button|summary)$/i.test(n)?(n==="a"||n==="area")&&!e.hasAttribute("href")?-1:0:-1}function ke(e,t){let o=je(e)[0]||t||e,r=false;o===e&&Pe(e)<0&&(e.setAttribute("tabindex","-1"),r=true);try{o.focus({preventScroll:!0});}catch{}finally{r&&e.removeAttribute("tabindex");}}function Ae(e,t){let n=document.activeElement||null;if(t!=null&&t.initialFocus)try{t.initialFocus.focus({preventScroll:!0});}catch{}else ke(e,e);let o=i=>{if(i.key!=="Tab")return;let a=je(e);if(a.length===0){i.preventDefault(),ke(e,e);return}let s=a[0],c=a[a.length-1],l=document.activeElement;i.shiftKey?(!l||l===s||!e.contains(l))&&(i.preventDefault(),c.focus()):(!l||l===c||!e.contains(l))&&(i.preventDefault(),s.focus());};return document.addEventListener("keydown",o,true),{release:()=>{document.removeEventListener("keydown",o,true);let i=(t==null?void 0:t.restoreFocus)===void 0?n:t.restoreFocus;if(i&&document.contains(i))try{i.focus({preventScroll:!0});}catch{}}}}function He(e){let n=(e.ownerDocument||document).body,o=[];return Array.from(n.children).forEach(r=>{if(r===e||r.contains(e))return;let i=r.getAttribute("aria-hidden");o.push({el:r,prev:i}),r.setAttribute("aria-hidden","true");}),()=>{for(let{el:r,prev:i}of o)i===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",i);}}function it(e,t,n){"translate"in e.style?e.style.translate=`${t}px ${n}px`:(e.style.setProperty("--pj-dx",`${t}px`),e.style.setProperty("--pj-dy",`${n}px`));}function at(e,t,n){let o=0,r=0,i=0,a=0,s=false,c=d=>{var g,w;let f=(w=(g=d.touches)==null?void 0:g[0])!=null?w:d;return {x:f.clientX,y:f.clientY}},l=()=>{let f=(e.style.translate||"").match(/(-?\d+(?:\.\d+)?)px\s+(-?\d+(?:\.\d+)?)px/);if(f)return {x:parseFloat(f[1]),y:parseFloat(f[2])};let g=parseFloat(getComputedStyle(e).getPropertyValue("--pj-dx"))||0,w=parseFloat(getComputedStyle(e).getPropertyValue("--pj-dy"))||0;return {x:g,y:w}},p=(d,f)=>{if(!n.withinViewport)return {x:d,y:f};let g=document.documentElement.clientWidth,w=document.documentElement.clientHeight,T=e.getBoundingClientRect(),L=-T.left+T.width*-0.9,P=g-T.right+T.width*.9,y=-T.top+T.height*-0.9,M=w-T.bottom+T.height*.9;return {x:Math.min(Math.max(d,L),P),y:Math.min(Math.max(f,y),M)}},u=d=>{if(!s)return;d.preventDefault();let f=c(d),g=i+(n.axis==="y"?0:f.x-o),w=a+(n.axis==="x"?0:f.y-r);(({x:g,y:w}=p(g,w))),it(e,g,w);},m=()=>{s=false,document.removeEventListener("mousemove",u,true),document.removeEventListener("touchmove",u,true),t.style.cursor=n.cursor||"grab";},b=d=>{if(d instanceof MouseEvent&&d.button!==0)return;d.preventDefault();let f=c(d);o=f.x,r=f.y;let g=l();i=g.x,a=g.y,s=true,t.style.cursor=n.cursor||"grabbing",document.addEventListener("mousemove",u,true),document.addEventListener("mouseup",m,{once:true,capture:true}),document.addEventListener("touchmove",u,{passive:false,capture:true}),document.addEventListener("touchend",m,{once:true,capture:true}),e.classList.add("pj-modal-moved");};return t.addEventListener("mousedown",b),t.addEventListener("touchstart",b,{passive:false}),()=>{t.removeEventListener("mousedown",b),t.removeEventListener("touchstart",b);}}function J(e,t){var X,Z,ee,te,ne,oe,se,ie,ae;let n=Le("modal"),o=h.get(),r=(ee=(Z=e.animate)!=null?Z:(X=o.animation)==null?void 0:X.enable)!=null?ee:true,i=(ne=(te=o.animation)==null?void 0:te.durationMs)!=null?ne:180,a=(se=(oe=o.animation)==null?void 0:oe.easing)!=null?se:"ease",s=(ae=(ie=o.overlay)==null?void 0:ie.fade)!=null?ae:true;x.ensureRoots();let c,l,p=null,u,m=null,b=false,d=null,f=null,g=null,w,T,L={id:n,close:C=>A(C),update:()=>{},get el(){return w},get contentEl(){return T}},P=null,y=()=>{var re,le,ce,de,ue,me,fe,pe,ge,be,he,ye,ve,Te,we,Ee;c=document.createElement("div"),c.className="pj-overlay",c.setAttribute("role","presentation");let C=(le=(re=o.overlay)==null?void 0:re.surfaceAlpha)!=null?le:.6;c.style.setProperty("--pj-overlay-alpha",String(C));let k=(ue=(de=e.backdropBlurPx)!=null?de:(ce=o.overlay)==null?void 0:ce.backdropBlurPx)!=null?ue:0;k>0&&(c.classList.add("pj-blur"),c.style.setProperty("--pj-overlay-blur",`${k}px`)),l=document.createElement("div"),l.className=e.windowed?"pj-modal":"pj-modal-no-window",e.bare&&l.classList.add("pad-none"),l.setAttribute("role","dialog"),l.setAttribute("aria-modal","true"),e.ariaLabel&&l.setAttribute("aria-label",e.ariaLabel),e.kind&&l.classList.add(`pj-kind-${e.kind}`);let j=(fe=(me=e.surfaceAlpha)!=null?me:o.modal.surfaceAlpha)!=null?fe:1,B=(ge=(pe=e.dialogBlurPx)!=null?pe:o.modal.dialogBlurPx)!=null?ge:0;l.style.setProperty("--pj-modal-alpha",String(j)),j<1&&B>0&&(l.classList.add("pj-modal-translucent"),l.style.setProperty("--pj-modal-blur",`${B}px`));let N=(be=e.size)!=null?be:"md";e.windowed&&typeof N=="string"&&l.classList.add(`size-${N}`),t.renderHeader&&(p=document.createElement("div"),p.className="pj-modal-header",l.appendChild(p)),u=document.createElement("div"),u.className="pj-modal-content",e.bare&&u.classList.add("pad-none"),e.contentClass&&u.classList.add(e.contentClass),l.appendChild(u),t.renderFooter&&(m=document.createElement("div"),m.className="pj-modal-footer",l.appendChild(m)),e.surfaceClass&&l.classList.add(e.surfaceClass),c.appendChild(l),x.portal.appendChild(c);let R=m==null?void 0:m.querySelector("button");e.trapFocus!==false&&(d=Ae(l,{initialFocus:R}).release),f=He(c),w=l,T=u,t.renderHeader&&p&&t.renderHeader(L,p),t.renderBody(L,u,E=>{T=E;}),t.renderFooter&&m&&t.renderFooter(L,m),t.setUpdater&&t.setUpdater(L,{header:p,body:u,footer:m,setContentEl:E=>{T=E;}});let D=e.draggable,_e=typeof window!="undefined"&&((he=window.matchMedia)==null?void 0:he.call(window,"(pointer: coarse)").matches),qe=/Mobi|Android/i.test(navigator.userAgent),Ve=typeof D=="object"&&(ye=D.disableOnMobile)!=null?ye:true;if(D&&!_e&&!(qe&&Ve)){let E=typeof D=="object"?D:{},Je=(ve=E.axis)!=null?ve:"both",We=(Te=E.withinViewport)!=null?Te:true,_=(we=E.cursor)!=null?we:null,O=null;E.handle instanceof HTMLElement?O=E.handle:typeof E.handle=="string"?E.handle==="header"?O=p!=null?p:null:E.handle==="body"?O=u:O=l.querySelector(E.handle):O=e.windowed?p!=null?p:l:T!=null?T:u,O&&(g=at(l,O,{axis:Je,withinViewport:We,cursor:_}),l.classList.add("pj-modal-draggable"),_&&(O.style.cursor=_));}M(),x.scrollLock(true),r&&(s&&(c.classList.add("pj-overlay-in"),c.style.setProperty("--pj-anim-duration",`${i}ms`),c.style.setProperty("--pj-anim-ease",a)),l.classList.add("pj-modal-in"),l.style.setProperty("--pj-anim-duration",`${i}ms`),l.style.setProperty("--pj-anim-ease",a)),(Ee=e.onOpen)==null||Ee.call(e,L);},M=()=>{var C,k;((C=e.closeOnBackdrop)==null||C)&&c.addEventListener("click",j=>{j.target===c&&A("backdrop");}),((k=e.closeOnEsc)==null||k)&&(P=j=>{j.key==="Escape"&&(j.stopPropagation(),A("esc"),document.removeEventListener("keydown",P,true));},document.addEventListener("keydown",P,true));},S=C=>{var k;c.remove(),x.onClose(),x.scrollLock(false);try{d==null||d();}catch{}try{f==null||f();}catch{}try{g==null||g();}catch{}d=f=g=null;try{document.removeEventListener("keydown",P,!0);}catch{}(k=e.onClose)==null||k.call(e,C);},A=C=>{if(b)return;if(b=true,!r){S(C);return}l.classList.remove("pj-modal-in"),l.classList.add("pj-modal-out"),l.style.setProperty("--pj-anim-duration",`${i}ms`),l.style.setProperty("--pj-anim-ease",a),s&&(c.classList.remove("pj-overlay-in"),c.classList.add("pj-overlay-out"),c.style.setProperty("--pj-anim-duration",`${i}ms`),c.style.setProperty("--pj-anim-ease",a));let k=false,j=!s,B=()=>{k&&j&&S(C);},N=()=>{k=true,l.removeEventListener("animationend",N),B();};if(l.addEventListener("animationend",N),s){let R=()=>{j=true,c.removeEventListener("animationend",R),B();};c.addEventListener("animationend",R);}window.setTimeout(B,(i!=null?i:0)+50);};return x.open(()=>y()),L}function I(e){var r,i,a;let n=h.get().i18n,o={windowed:true,bare:false,size:e.size,surfaceClass:e.surfaceClass,contentClass:e.contentClass,surfaceAlpha:e.surfaceAlpha,dialogBlurPx:e.dialogBlurPx,backdropBlurPx:e.backdropBlurPx,kind:e.kind,animate:e.animate,closeOnEsc:(r=e.closeOnEsc)!=null?r:true,closeOnBackdrop:(i=e.closeOnBackdrop)!=null?i:true,trapFocus:(a=e.trapFocus)!=null?a:true,ariaLabel:e.ariaLabel,draggable:e.draggable,onOpen:e.onOpen,onClose:e.onClose,concurrency:e.concurrency};return J(o,{renderHeader(s,c){var u;let p=typeof e.title=="string"&&e.title.length>0?e.title:e.kind?n.titles[e.kind]:void 0;if(p&&(c.innerHTML=`<h2 class="pj-modal-title">${H(p)}</h2>`),(u=e.showClose)==null||u){let m=document.createElement("button");m.className="pj-modal-close",m.setAttribute("aria-label",e.closeAriaLabel||n.close),m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/></svg>',m.addEventListener("click",()=>s.close("close")),c.appendChild(m);}},renderBody(s,c,l){typeof e.content=="string"?(c.innerHTML=e.unsafeHTML?e.content:H(e.content),l(c)):(c.appendChild(e.content),l(e.content));},renderFooter(s,c){var p;let l=(p=e.buttons)!=null?p:[{id:"ok",text:n.ok,variant:"primary"}];for(let u of l){let m=document.createElement("button");m.className=`pj-modal-btn ${u.variant||"neutral"}`,m.textContent=u.text,m.addEventListener("click",async()=>{var b;try{m.disabled=!0,u.onClick&&await u.onClick(s);}finally{m.disabled=false,((b=u.closeOnClick)==null||b)&&s.close(u.id);}}),c.appendChild(m);}s.update=u=>{var m,b;if(u.title!==void 0){let d=s.el.querySelector(".pj-modal-title");d&&(d.textContent=(m=u.title)!=null?m:"");}if(u.content!==void 0){let d=s.el.querySelector(".pj-modal-content");if(!d)return;d.innerHTML="",typeof u.content=="string"?d.innerHTML=u.unsafeHTML?u.content:H(u.content):d.appendChild(u.content),s._contentEl=d,(b=Object.getOwnPropertyDescriptor(s,"contentEl"))!=null&&b.get;}u.buttons&&(c.innerHTML="",u.buttons.forEach(d=>{let f=document.createElement("button");f.className=`pj-modal-btn ${d.variant||"neutral"}`,f.textContent=d.text,f.addEventListener("click",async()=>{var g;try{f.disabled=!0,d.onClick&&await d.onClick(s);}finally{f.disabled=false,((g=d.closeOnClick)==null||g)&&s.close(d.id);}}),c.appendChild(f);}));};},setUpdater:(s,{header:c,body:l,footer:p,setContentEl:u})=>{s.update=m=>{var b;if(m.title!==void 0&&c){let d=c.querySelector(".pj-modal-title");d&&(d.textContent=(b=m.title)!=null?b:"");}m.content!==void 0&&(l.innerHTML="",typeof m.content=="string"?l.innerHTML=m.unsafeHTML?m.content:H(m.content):l.appendChild(m.content),u(l)),m.buttons&&p&&(p.innerHTML="",m.buttons.forEach(d=>{let f=document.createElement("button");f.className=`pj-modal-btn ${d.variant||"neutral"}`,f.textContent=d.text,f.addEventListener("click",async()=>{var g;try{f.disabled=!0,d.onClick&&await d.onClick(s);}finally{f.disabled=false,((g=d.closeOnClick)==null||g)&&s.close(d.id);}}),p.appendChild(f);}));};}})}function rt(e={}){var o,r,i;let t=e.windowed!==false,n={windowed:t,bare:true,size:e.size,surfaceClass:e.surfaceClass,contentClass:e.contentClass,surfaceAlpha:e.surfaceAlpha,dialogBlurPx:e.dialogBlurPx,backdropBlurPx:e.backdropBlurPx,kind:e.kind,animate:e.animate,closeOnEsc:(o=e.closeOnEsc)!=null?o:true,closeOnBackdrop:(r=e.closeOnBackdrop)!=null?r:true,trapFocus:(i=e.trapFocus)!=null?i:true,ariaLabel:e.ariaLabel,draggable:(()=>{var a;if(!t&&e.draggable){let s=typeof e.draggable=="object"?e.draggable:{};return {handle:(a=s.handle)!=null?a:void 0,axis:s.axis,withinViewport:s.withinViewport,disableOnMobile:s.disableOnMobile,cursor:s.cursor}}return e.draggable})(),onOpen:e.onOpen,onClose:e.onClose,concurrency:e.concurrency};return J(n,{renderBody(a,s,c){typeof e.content=="string"?(s.innerHTML=e.unsafeHTML?e.content:H(e.content),c(s)):e.content&&(s.appendChild(e.content),c(e.content));}})}function lt(e){return typeof e=="number"?`${e}px`:e}function K(){return typeof window!="undefined"&&!!window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}function Ne(e,t){e.classList.forEach(n=>{t.test(n)&&e.classList.remove(n);});}function De(e,t,n){let o=false,r=a=>{a.target===e&&!o&&(o=true,e.removeEventListener("animationend",r),clearTimeout(i),n());},i=window.setTimeout(()=>{o||(o=true,e.removeEventListener("animationend",r),n());},Math.max(0,t)+50);return e.addEventListener("animationend",r),()=>{o||(o=true,clearTimeout(i),e.removeEventListener("animationend",r),n());}}function Re(e,t,n){var l,p,u,m,b,d;let o=h.get(),r=(p=(l=o.animation)==null?void 0:l.durationMs)!=null?p:180,i=(m=(u=o.animation)==null?void 0:u.easing)!=null?m:"ease";if(!n){let f=t==="enter"?{preset:"slide",direction:Se(e),distance:Oe(e,t)}:{preset:"fade"};return {preset:f.preset,direction:f.direction,distance:f.distance,durationMs:r,easing:i}}let a=n.preset,s=a==="slide"?n.direction&&n.direction!=="auto"?n.direction:Se(e):void 0,c;return a==="slide"&&(n.distance==="edge"||n.distance===void 0?c=Oe(e,t):c=lt(n.distance)),{preset:a,direction:s,distance:c,durationMs:(b=n.durationMs)!=null?b:r,easing:(d=n.easing)!=null?d:i}}function Se(e,t){switch(e){case "top-center":return "up";case "bottom-center":return "down";case "top-left":case "bottom-left":return "left";case "top-right":case "bottom-right":return "right"}}function Oe(e,t){let n="120%",o="16px";return (e==="top-center"||e==="bottom-center")&&t==="enter"?o:n}function $e(e,t,n){if(e.style.setProperty("--pj-anim-duration",`${n.durationMs}ms`),e.style.setProperty("--pj-anim-ease",n.easing),n.preset==="fade"){e.classList.add(t==="enter"?"pj-enter-fade":"pj-exit-fade");return}if(n.preset==="scale"){e.classList.add(t==="enter"?"pj-enter-scale":"pj-exit-scale");return}if(n.preset==="slide"&&n.direction){t==="enter"&&n.distance&&e.style.setProperty("--pj-enter-distance",n.distance);let o=`pj-${t}-slide-${n.direction}`;e.classList.add(o);}}function ct(e,t,n){var c;if(!n||n<=0)return;let o=t.timeoutCue||{};if(!(o.show!==false))return;let i=o.position||"bottom",a=(c=o.thicknessPx)!=null?c:3;if(i==="cover"){let l=document.createElement("div");l.className="pj-timeout-cover",l.style.setProperty("--pj-timeout-ms",`${n}ms`),o.direction==="shrink"&&(l.style.animationDirection="reverse"),e.appendChild(l);return}let s=document.createElement("div");s.className=`pj-timeout-bar pj-${i}`,s.style.setProperty("--pj-timeout-ms",`${n}ms`),i==="top"||i==="bottom"?s.style.height=`${a}px`:s.style.width=`${a}px`,o.direction==="shrink"&&(s.style.animationDirection="reverse"),e.appendChild(s);}function Be(e,t,n,o){var a;if(K()||n<=0||!((a=h.get().animation)!=null&&a.enable)){e.remove(),x.onToastRemoved(t);return}let r=e.offsetHeight;e.style.overflow="hidden",e.style.height=`${r}px`,e.style.marginTop=getComputedStyle(e).marginTop,e.style.marginBottom=getComputedStyle(e).marginBottom,e.style.paddingTop=getComputedStyle(e).paddingTop,e.style.paddingBottom=getComputedStyle(e).paddingBottom,e.offsetWidth,e.style.transition=[`height ${n}ms ${o}`,`margin ${n}ms ${o}`,`padding ${n}ms ${o}`,`opacity ${n}ms ${o}`].join(", "),e.style.height="0px",e.style.marginTop="0px",e.style.marginBottom="0px",e.style.paddingTop="0px",e.style.paddingBottom="0px",e.style.opacity="0";let i=()=>{e.removeEventListener("transitionend",i),e.remove(),x.onToastRemoved(t);};e.addEventListener("transitionend",i),window.setTimeout(i,n+50);}function z(e,t,n,o){var s;if(e._pjExiting)return;e._pjExiting=true,Ne(e,/^pj-enter-/);let r=h.get(),i=!!((s=r.animation)!=null&&s.enable),a=Re(n,"exit",o!=null?o:r.toast.animations.exit);if(!i||K()||a.durationMs<=0){Be(t,n,0,a.easing);return}$e(e,"exit",a),e.offsetWidth,De(e,a.durationMs,()=>{Be(t,n,a.durationMs,a.easing);});}function Ie(e){var g,w,T,L,P;x.ensureRoots();let t=h.get(),n=e.position||t.toast.defaultPosition,o=e.behavior||t.toast.behavior,r=e.maxVisible||t.toast.maxVisible,i=(g=e.timeoutMs)!=null?g:t.toast.defaultTimeoutMs,a=document.createElement("div");a.className="pj-toast-item";let s=document.createElement("div");s.className=`pj-toast pj-${e.kind||"info"} ${((w=e.dismissible)!=null?w:t.toast.defaultDismissible)?"dismissible":""}`,s.setAttribute("role","status"),s.setAttribute("aria-live","polite");let c=s,l;if(e.title){let y=document.createElement("div");y.className="pj-toast-title",y.innerHTML=H(e.title),l=`pj-title-${Math.random().toString(36).slice(2,9)}`,y.id=l,s.appendChild(y),s.classList.add("has-title"),c=document.createElement("div"),c.style.cssText="display: flex; align-items: center; gap: 6px;",s.appendChild(c);}let p=document.createElement("div");p.className="pj-toast-body",p.innerHTML=H(e.message);let u=`pj-body-${Math.random().toString(36).slice(2,9)}`;if(p.id=u,c.appendChild(p),l&&(s.setAttribute("aria-labelledby",l),s.setAttribute("aria-describedby",u)),(T=e.actions)!=null&&T.length){let y=document.createElement("div");y.className="pj-toast-actions";for(let M of e.actions){let S=document.createElement("button");S.className="pj-toast-btn ghost",S.textContent=M.text,S.addEventListener("click",()=>{var A;return z(s,a,n,(A=e.animations)==null?void 0:A.exit)}),S.addEventListener("click",()=>{var A;try{(A=M.onClick)==null||A.call(M);}catch{}}),y.appendChild(S);}c.appendChild(y);}if((L=e.dismissible)!=null?L:t.toast.defaultDismissible){let y=document.createElement("button");y.className="pj-toast-close",y.setAttribute("aria-label",t.i18n.dismiss),y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/></svg>',y.addEventListener("click",()=>{var M;return z(s,a,n,(M=e.animations)==null?void 0:M.exit)}),s.appendChild(y);}let b;i&&i>0&&(ct(s,e.animations||t.toast.animations,i),b=window.setTimeout(()=>{var y;return z(s,a,n,(y=e.animations)==null?void 0:y.exit)},i));let d=Re(n,"enter",e.animations&&e.animations.enter||t.toast.animations.enter),f=!!((P=t.animation)!=null&&P.enable);return !K()&&f&&d.durationMs>0&&($e(s,"enter",d),De(s,d.durationMs,()=>{Ne(s,/^pj-enter-/);})),a.appendChild(s),x.showToast(a,n,o,r),{dismiss:()=>{var y;b&&window.clearTimeout(b),z(s,a,n,(y=e.animations)==null?void 0:y.exit);}}}async function Q(e){return new Promise(t=>{I({title:e.title,content:e.message,buttons:e.buttons.map(o=>({...o,closeOnClick:true,onClick:()=>t({id:o.id})})),closeOnEsc:e.escReturns!==null,closeOnBackdrop:e.backdropReturns!==null,onClose:o=>{o==="esc"&&e.escReturns?t({id:e.escReturns}):o==="backdrop"&&e.backdropReturns&&t({id:e.backdropReturns});}});})}async function ze(e,t){var o,r;let{id:n}=await Q({message:e,title:t==null?void 0:t.title,buttons:[{id:"yes",text:(o=t==null?void 0:t.yesText)!=null?o:"Yes",variant:"primary"},{id:"no",text:(r=t==null?void 0:t.noText)!=null?r:"No",variant:"neutral"},...t&&t.includeCancel?[{id:"cancel",text:"Cancel"}]:[]],escReturns:"cancel",backdropReturns:"cancel"});return n==="yes"}async function Fe(e,t){await new Promise(n=>{I({title:t==null?void 0:t.title,content:e,buttons:[{id:"ok",text:h.get().i18n.ok,variant:"primary",onClick:()=>n()}],closeOnEsc:true,closeOnBackdrop:true});});}var Y={};xe(Y,{getAvailable:()=>dt,load:()=>mt,register:()=>F,set:()=>G,use:()=>ut});var U=new Map;function F(e){U.set(e.locale,e);}function dt(){return Array.from(U.keys())}function G(e){let t=U.get(e);if(!t)throw new Error(`PromptJS: no i18n pack registered for "${e}"`);h.update({i18n:t});}function ut(e,t){t&&F(t),G(e);}function mt(e,t){return t().then(n=>(F(n),G(e),n))}F({locale:"en",dir:"auto",ok:"OK",cancel:"Cancel",yes:"Yes",no:"No",close:"Close",dismiss:"Dismiss",titles:{info:"Information",success:"Success",warning:"Warning",error:"Error",question:"Question"}});var ft="0.1.0";if(typeof window!="undefined"){let e={config:h,Modal:W,toast:Ie,question:Q,confirm:ze,alert:Fe,i18n:Y,version:ft};window.PromptJS=Object.freeze(e);}
exports.Modal=W;exports.alert=Fe;exports.config=h;exports.confirm=ze;exports.i18n=Y;exports.question=Q;exports.toast=Ie;exports.version=ft;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map